(function(e){if(!e.seajs){var t=e.seajs={version:"2.2.3"},i=t.data={},l=D("Object"),d=D("String"),a=Array.isArray||D("Array"),s=D("Function"),o=D("Undefined"),n=0,r=i.events={};t.on=function(e,i){return(r[e]||(r[e]=[])).push(i),t},t.off=function(e,l){if(!e&&!l)return r=i.events={},t;var d=r[e];if(d)if(l)for(var a=d.length-1;a>=0;a--)d[a]===l&&d.splice(a,1);else delete r[e];return t};var c,p=t.emit=function(e,i){var l,d=r[e];if(d)for(d=d.slice();l=d.shift();)l(i);return t},u=/[^?#]*\//,h=/\/\.\//g,f=/\/[^\/]+\/\.\.\//,g=/([^:\/])\/\//g,b=/^([^\/:]+)(\/.+)$/,x=/{([^{]+)}/g,_=/^\/\/.|:\//,m=/^.*?\/\/.*?\//,y=document,v=H(y.URL),w=y.scripts,k=y.getElementById("seajsnode")||w[w.length-1],A=H(((c=k).hasAttribute?c.src:c.getAttribute("src",4))||v);t.resolve=function(e,t){if(!e)return"";var l,a,o;e=function(e){var t=i.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(x,function(e,i){return d(t[i])?t[i]:e})),e}(e=function(e){var t,l=i.paths;return l&&(t=e.match(b))&&d(l[t[1]])&&(e=l[t[1]]+t[2]),e}(e=function(e){var t=i.alias;return t&&d(t[e])?t[e]:e}(e))),a=(l=e).length-1;var n=X(e="#"===(o=l.charAt(a))?l.substring(0,a):".js"===l.substring(a-2)||l.indexOf("?")>0||".css"===l.substring(a-3)||"/"===o?l:l+".js",t);return n=function(e){var t=i.map,l=e;if(t)for(var d=0,a=t.length;d<a;d++){var o=t[d];if((l=s(o)?o(e)||e:e.replace(o[0],o[1]))!==e)break}return l}(n)};var S,j,T=y.head||y.getElementsByTagName("head")[0]||y.documentElement,M=T.getElementsByTagName("base")[0],z=/\.css(?:\?|$)/i,L=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;t.request=function(e,t,l,d){var a=z.test(e),s=y.createElement(a?"link":"script");l&&(s.charset=l),o(d)||s.setAttribute("crossorigin",d),function(e,t,l,d){var a="onload"in e;function s(){e.onload=e.onerror=e.onreadystatechange=null,l||i.debug||T.removeChild(e),e=null,t()}!l||!L&&a?a?(e.onload=s,e.onerror=function(){p("error",{uri:d,node:e}),s()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&s()}:setTimeout(function(){!function e(t,i){var l,d=t.sheet;if(L)d&&(l=!0);else if(d)try{d.cssRules&&(l=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(l=!0)}setTimeout(function(){l?i():e(t,i)},20)}(e,t)},1)}(s,t,a,e),a?(s.rel="stylesheet",s.href=e):(s.async=!0,s.src=e),S=s,M?T.insertBefore(s,M):T.appendChild(s),S=null};var C,E=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,O=/\\\\/g,P=t.cache={},I={},B={},N={},V=U.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};U.prototype.resolve=function(){for(var e=this.dependencies,t=[],i=0,l=e.length;i<l;i++)t[i]=U.resolve(e[i],this.uri);return t},U.prototype.load=function(){if(!(this.status>=V.LOADING)){this.status=V.LOADING;var e=this.resolve();p("load",e);for(var t,i=this._remain=e.length,l=0;l<i;l++)(t=U.get(e[l])).status<V.LOADED?t._waitings[this.uri]=(t._waitings[this.uri]||0)+1:this._remain--;if(0!==this._remain){var d={};for(l=0;l<i;l++)(t=P[e[l]]).status<V.FETCHING?t.fetch(d):t.status===V.SAVED&&t.load();for(var a in d)d.hasOwnProperty(a)&&d[a]()}else this.onload()}},U.prototype.onload=function(){this.status=V.LOADED,this.callback&&this.callback();var e,t,i=this._waitings;for(e in i)i.hasOwnProperty(e)&&((t=P[e])._remain-=i[e],0===t._remain&&t.onload());delete this._waitings,delete this._remain},U.prototype.fetch=function(e){var l=this.uri;this.status=V.FETCHING;var d={uri:l};p("fetch",d);var a=d.requestUri||l;function o(){t.request(d.requestUri,d.onRequest,d.charset,d.crossorigin)}a&&!B[a]?I[a]?N[a].push(this):(I[a]=!0,N[a]=[this],p("request",d={uri:l,requestUri:a,onRequest:function(){delete I[a],B[a]=!0,C&&(U.save(l,C),C=null);var e,t=N[a];delete N[a];for(;e=t.shift();)e.load()},charset:s(i.charset)?i.charset(a):i.charset,crossorigin:s(i.crossorigin)?i.crossorigin(a):i.crossorigin}),d.requested||(e?e[d.requestUri]=o:o())):this.load()},U.prototype.exec=function(){var e=this;if(e.status>=V.EXECUTING)return e.exports;e.status=V.EXECUTING;var t=e.uri;function i(e){return U.get(i.resolve(e)).exec()}i.resolve=function(e){return U.resolve(e,t)},i.async=function(e,l){return U.use(e,l,t+"_async_"+F()),i};var l=e.factory,d=s(l)?l(i,e.exports={},e):l;return void 0===d&&(d=e.exports),delete e.factory,e.exports=d,e.status=V.EXECUTED,p("exec",e),d},U.resolve=function(e,i){var l={id:e,refUri:i};return p("resolve",l),l.uri||t.resolve(l.id,i)},U.define=function(e,t,i){var l,d,o=arguments.length;1===o?(i=e,e=void 0):2===o&&(i=t,a(e)?(t=e,e=void 0):t=void 0),!a(t)&&s(i)&&(l=i.toString(),d=[],l.replace(O,"").replace(E,function(e,t,i){i&&d.push(i)}),t=d);var n={id:e,uri:U.resolve(e),deps:t,factory:i};if(!n.uri&&y.attachEvent){var r=function(){if(S)return S;if(j&&"interactive"===j.readyState)return j;for(var e=T.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var i=e[t];if("interactive"===i.readyState)return j=i}}();r&&(n.uri=r.src)}p("define",n),n.uri?U.save(n.uri,n):C=n},U.save=function(e,t){var i=U.get(e);i.status<V.SAVED&&(i.id=t.id||e,i.dependencies=t.deps||[],i.factory=t.factory,i.status=V.SAVED)},U.get=function(e,t){return P[e]||(P[e]=new U(e,t))},U.use=function(t,i,l){var d=U.get(l,a(t)?t:[t]);d.callback=function(){for(var t=[],l=d.resolve(),a=0,s=l.length;a<s;a++)t[a]=P[l[a]].exec();i&&i.apply(e,t),delete d.callback},d.load()},U.preload=function(e){var t=i.preload,l=t.length;l?U.use(t,function(){t.splice(0,l),U.preload(e)},i.cwd+"_preload_"+F()):e()},t.use=function(e,l){return U.preload(function(){U.use(e,l,i.cwd+"_use_"+F())}),t},U.define.cmd={},e.define=U.define,t.Module=U,i.fetchedList=B,i.cid=F,t.require=function(e){var t=U.get(U.resolve(e));return t.status<V.EXECUTING&&(t.onload(),t.exec()),t.exports};var Y,R;i.base=(A.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",A])[1],i.dir=A,i.cwd=v,i.charset="utf-8",i.history={},i.preload=(Y=[],R=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(R+=" "+y.cookie).replace(/(seajs-\w+)=1/g,function(e,t){Y.push(t)}),Y),t.config=function(e){for(var d in e){var s=e[d],o=i[d];if(i.history[d]=i.history[d]||[],i.history[d].push(W(s)),o&&l(o))for(var n in s)o[n]=s[n];else a(o)?s=o.concat(s):"base"===d&&("/"!==s.slice(-1)&&(s+="/"),s=X(s)),i[d]=s}return p("config",e),t}}function D(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function F(){return n++}function H(e){return e.match(u)[0]}function X(e,t){var l,d=e.charAt(0);if(_.test(e))l=e;else if("."===d)l=function(e){for(e=e.replace(h,"/");e.match(f);)e=e.replace(f,"/");return e=e.replace(g,"$1/")}((t?H(t):i.cwd)+e);else if("/"===d){var a=i.cwd.match(m);l=a?a[0]+e.substring(1):e}else l=i.base+e;return 0===l.indexOf("//")&&(l=location.protocol+l),l}function U(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function W(e){if(l(e)){var t={};for(var i in e)t[i]=e[i];return t}return e}})(this),define("magix5",()=>{let e=0,t=[],i=window,l=document,d=setTimeout,a=encodeURIComponent;function s(){}let o=JSON.stringify,n=l.body,r=Date.now,c="prototype",p=Object[c].toString,u=e=>p.call(e).slice(8,-1),h=e=>"Object"==u(e),f=Array.isArray,g=t=>(t||"mx_")+e++,b=e=>l.getElementById(e),x=(e,t)=>e.innerHTML=t,_=g(),m={rootId:g(),defaultView:_,error(e){throw e}},y=e=>!e||"object"!=typeof e,v=(e,t,i)=>{if(e&&t&&!(i=e==t))try{i=16==(16&t.compareDocumentPosition(e))}catch(e){}return i},{assign:w,keys:k,hasOwnProperty:A}=Object,S=l.head,j=l.createElement("div"),T=j.getAttribute,M=(e,t)=>T.call(e,t),z=(e,t)=>{t&&!z[e]&&(z[e]=1,x(j,`<style>${t}`),S.appendChild(j.firstChild))},L=(e,i,l,d,a)=>{for(a of(i=i||t,f(e)||(e=[e]),f(i)||(i=[i]),e))try{d=a&&a.apply(l,i)}catch(e){m.error(e)}return d},C=(e,t)=>e&&A.call(e,t),E=(e,t)=>{let i,l;if(y(t))"\x1e"==(i=t+"")[0]&&e.has(i)&&(t=e.get(i));else for(i in t)l=t[i],l=E(e,l),t[i]=l;return t},O=(e,t)=>t.a-e.a||t.b-e.b;function P(e,t,i,l){(l=this).a=[],l.b=t||5,l.c=l.b+(e||20),l.d=i}w(P[c],{get(t){let i=this.a["\x1e"+t];return i&&(i.a++,i.b=e++,i=i.c),i},set(t,i){let l=this,d=l.a,a="\x1e"+t,s=d[a],o=l.b;if(!s){if(d.length>=l.c)for(d.sort(O);o--;)(s=d.pop()).a>0&&l.del(s.o);s={d:t},d.push(s),d[a]=s}s.c=i,s.a=1,s.b=e++},del(e){e="\x1e"+e;let t=this.a,i=t[e],l=this.d;i&&(i.a=-1,i.c="",delete t[e],l&&L(l,i.d))},has(e){return C(this.a,"\x1e"+e)}});let I,B={bubbles:!0,cancelable:!0},N=[],V=(e,t,i,l,d,a)=>{let s={a:l,b:i,c:t,d:e,e(e){l?L(i,e,a):i(e)}};N.push(s),e.addEventListener(t,s.e,d)},Y=(e,t,i,l,d)=>{for(let a,s=N.length;s--;)if((a=N[s]).c==t&&a.a==l&&a.d==e&&a.b===i){N.splice(s,1),e.removeEventListener(t,a.e,d);break}},R=new P,D=e=>{let t,i,l,d,a,s=R.get(e);if(!s){if(d={},-1==(a=e.indexOf("?")))t=e;else if(t=e.substring(0,a),e=e.substring(a+1))for(a of e.split("&"))[i,l]=a.split("="),d[i]=decodeURIComponent(l||"");R.set(e,s={a:t,b:d})}return{path:s.a,params:w({},s.b)}},F=new P,H=(e,t,i)=>(F.has(e)?i=F.get(e):(i=L(Function(`return ${e}`)),e.indexOf("\x1e")>-1?E(t,i):F.set(e,i)),i),X=(e,t)=>{if(e){let i=[];_==e?(I||(I=Xe.extend()),t(I)):seajs.use(e,(...e)=>{for(let t of e)i.push(t&&t.__esModule&&t.default||t);t&&t(...i)})}else t()};function U(){}let W=(e,t,i,l,d)=>(U[c]=t[c],d=new U,w(d,i),w(e,l),d.constructor=e,e[c]=d,e),q=e=>e;let K,Q={fire(e,t){let i,l,d=this,a=d["\x1e"+e],s=0;if(t||(t={}),t.type=e,a)for(i=a.length;s<i;s++)(l=a[s]).f?(l.x=1,L(l.f,t,d),l.x=""):l.x||(a.splice(s--,1),i--);return(a=d[`on${e}`])&&L(a,t,d),d},on(e,t){let i="\x1e"+e;return(this[i]||(this[i]=[])).push({f:t}),this},off(e,t){let i,l="\x1e"+e,d=this,a=d[l];if(t){if(a)for(i of a)if(i.f==t){i.f="";break}}else delete d[l],delete d[`on${e}`];return d}},G={},J=(e,t,i,l)=>{t.indexOf("\x1e")>0&&(l=G[e])&&E(l.a.a,i)},Z=(e,t)=>{C(G,e)||(G[e]=t,te.fire("add",{vframe:t}))},$=(e,t,i)=>{for(t=e.c;t.length;)(i=t.shift()).r||e.invoke(i.n,i.a),delete t[i.k]},ee=e=>e.b||(e.b=g());function te(e,t){let i=this,l=ee(e);i.id=l,i.root=e,i.pId=t,i.b={},i.d=1,i.c=[],Z(l,i)}w(te,{all:()=>G,byId:e=>G[e],byNode:e=>G[e.b]},Q),w(te[c],{mountView(e,t){let i,l,d,a,s,o=this,{id:n,root:r,pId:c}=o;!o.e&&r&&(o.e=1,o.f=r.innerHTML),o.unmountView(),r&&e&&(i=D(e),d=i.path,o.path=e,a=i.params,J(c,e,a),o.g=d,w(a,t),l=o.d,X(d,e=>{if(l==o.d){if(!e)return m.error(Error(`${n} cannot load:${d}`));s=He(e),d=new e(n,r,o,a,s),o.a=d,Ye(d),L(d.init,a,d),d.g(),d.tmpl||(o.e=0,d.h||d.endUpdate())}}))},unmountView(){let e=this,{a:t,root:i}=e;e.c=[],t&&(e.unmountZone(),e.a=0,t.d>0&&(t.d=0,t.fire("destroy"),t.off("destroy"),Be(t,1),Ye(t,1),t.owner=t.root=null),t.d--,i&&e.e&&x(i,e.f)),e.d++},mountVframe(e,t,i){let l,d=this,a=d.id,s=d.b,o=ee(e);return(l=G[o])||(C(s,o)||(d.h=0),s[o]=o,l=new te(e,a)),l.mountView(t,i),l},mountZone(e){let t,i=this,l=(e=e||i.root).querySelectorAll("[mx-view]");for(t of l)t.a||(t.a=1,i.mountVframe(t,M(t,"mx-view")))},unmountVframe(e,t){let i,l;var d,a;e=e?this.b[t?e:e.b]:this.id,(i=G[e])&&(i.unmountView(),l=i.pId,(a=G[d=e])&&(delete G[d],a.root.a=0,te.fire("remove",{vframe:a}),a.id=a.root=a.pId=a.b=null),(i=G[l])&&C(i.b,e)&&(delete i.b[e],i.h=0))},unmountZone(e){let t,i,l,d=this;for(t in d.b)(l=e?(i=G[t])&&v(i.root,e):1)&&d.unmountVframe(t,1)},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=G[t.pId];return t},children(e){return(e=this).h||(e.h=k(e.b))},invoke(e,t){let i,l,d,a,s,o=this.c;return(l=this.a)&&l.h?i=(d=l[e])&&L(d,t,l):((a=o[s="\x1e"+e])&&(a.r=t===a.a),a={n:e,a:t,k:s},o.push(a),o[s]=a),i}});let ie=new P(30,10),le=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,de={},ae={},se=(e,i)=>{let l,d,a,s,o,r,c,p,u=[],h=e,f=M(e,`mx-${i}`),g=0;if(f&&((o=ie.get(f))||(o={v:(o=f.match(le)||t)[1],n:o[2],i:o[3]},ie.set(f,o)),o=w({},o,{r:f})),o&&!o.v||ae[i]){if(!(p=h.c)){for(c=[h];h!=n&&(h=h.parentNode);){if(G[d=h.b]||(d=h.c)){p=d;break}c.push(h)}if(p)for(f of c)f.c=p}if(p){h=e.b,G[h]&&(g=p=h);do{if((l=G[p])&&(r=l.a)){if(s=(a=r.i)[i])for(h=s.length;h--;)a={r:d=s[h],v:p,n:d},d?!g&&e.matches(d)&&u.push(a):g&&u.unshift(a);if(r.tmpl&&!g)break;g=0}}while(l&&(p=l.pId))}}return o&&u.push(o),u},oe=e=>{let t,i,l,d,a,s,o,r,{target:c,type:p}=e,u=[];for(;c!=n&&!(e.cancelBubble||(i=c.d)&&i[p]);){if(u.push(c),(t=se(c,p)).length){u=[];for(let{v:i,r:n,n:u,i:h}of t){if(o!=i){if(o&&e.cancelBubble)break;o=i}(d=(l=G[i])&&l.a)?d.h&&(s=d[a=u+"\x1e"+p])&&(e.eventTarget=c,r=h?H(h,d.a):{},e.params=r,L(s,e,d)):e.stopPropagation()}}c=c.parentNode||n}for(o of u)(i=o.d||(o.d={}))[p]=1},ne=(e,t,i)=>{let l=0|de[e],d=i?-1:1;l&&i!==l||(i?Y:V)(n,e,oe),de[e]=l+d,t&&(ae[e]=(0|ae[e])+d)};let re={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},ce=/[&<>"'\`]/g,pe=e=>""+(null==e?"":e),ue=e=>`&${re[e]};`,he=e=>pe(e).replace(ce,ue),fe={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},ge=e=>fe[e],be=/[!')(*]/g,xe=e=>a(pe(e)).replace(be,ge),_e=/[\\'"]/g,me=e=>pe(e).replace(_e,"\\$&"),ye=(e,t,i)=>(e.has(t)||(i="\x1e"+e.size,e.set(t,i),e.set(i,t)),e.get(t)),ve=(e,t)=>{let i,l,d=e.j,a=e.k,s=e.owner,o=e.id,n={a:[]},r=e.e,c=e.a,p=i=>{t.a<t.length?ve(e,t):(n=t.slice(),t.a=t.length=0,i&&e.fire("domready"),L(n))};if(t.a=t.length,e.k=0,e.j={},a&&e.d>0&&(i=e.tmpl)){for(l of(e.fire("dompatch"),l=i(r,we,o,pe,xe,c,ye,me,f),Le(e.root,e.l,l,n,s,d),e.l=l,n.a))l.g();i&&e.endUpdate(),p(1)}else p()},we=(e,t,i,l)=>{let d;if(e){t=t||{};let a,s,o,n,r,c,p="",u={},h="<"+e,f="",g=[];if(i)for(n of i)o=n.a,n.b==Se&&(o=o?he(o):" "),f+=o,c&&n.b==Se&&c.b==Se?c.a+=n.a:(n.d&&(u[n.d]=(u[n.d]||0)+1),n.e&&(a=1),c=n,g.push(n));for(s in t)!1!==(o=t[s])&&null!=o?(!0===o&&(t[s]=o=""),"id"==s?p=o:"mx-view"==s&&o&&!p?p=D(o).path:"mxs"==s?p||(p=o):"mxv"==s&&(a=1),"value"==s&&"textarea"==e?f=o:C(Ae,s)||(h+=` ${s}="${he(o)}"`)):delete t[s];r=h,d={a:h+=l?"/>":`>${f}</${e}>`,c:f,d:p,b:e,e:a||C(ke,e),f:r,g:t,h:g,i:u,j:l}}else d={b:t?"\x1e":Se,a:i+""};return d},ke={input:{value:1,checked:1},textarea:{value:1},option:{selected:1}},Ae={mxs:1,mxv:1};let Se=e;let je="http://www.w3.org/",Te={svg:`${je}2000/svg`,math:`${je}1998/Math/MathML`},Me=(e,t,i,l)=>{let d,a,s=0,o=ke[t.b],n=i.g,r=t.g;if(l){if(t)for(d in r)C(o,d)||C(n,d)||(s=1,e.removeAttribute(d));for(d in n)C(o,d)||C(Ae,d)||(a=n[d],t&&r[d]===a||(s=1,e.setAttribute(d,a)))}for(d in o)a=C(n,d)?"value"!=d||n[d]:"value"==d&&"",e[d]!=a&&(s=1,e[d]=a);return s&&delete e.d,s},ze=(e,t,i)=>{let d,a=e.b;return a==Se?d=l.createTextNode(e.a):(d=l.createElementNS(Te[a]||t.namespaceURI,a),Me(d,0,e,1)&&(i.b=1),x(d,e.c)),d},Le=(e,t,i,l,d,a)=>{if(t){if(t.e||t.c!=i.c){let s,o,n,r,c,p,u=t.h,h=i.h,f=u.length,g=h.length,b=i.i,_=e.childNodes,m={},y=0;for(s=f;s--;)(c=(n=u[s]).d)&&(c=m[c]||(m[c]=[])).push(_[s]);for(s=0;s<g;s++)if(r=h[s],n=u[y++],(c=m[r.d])&&(c=c.pop())){if(c!=_[s]){for(o=y,p=1;o<f;o++,p++)if((n=u[o])&&_[s+p]==c){u.splice(o,1),y--;break}e.insertBefore(c,_[s])}b[n.d]&&b[n.d]--,Ce(c,e,n,r,l,d,a)}else n?m[n.d]&&b[n.d]?(f++,l.b=1,e.insertBefore(ze(r,e,l),_[s]),y--):Ce(_[s],e,n,r,l,d,a):("\x1e"==r.b?x(e,r.a):e.appendChild(ze(r,e,l)),l.b=1);for(s=g;s<f;s++)1==(o=_[g]).nodeType&&d.unmountZone(o),e.removeChild(o)}}else l.b=1,x(e,i.c)},Ce=(e,t,i,l,d,a,s)=>{let o=i.g,n=l.g,r=i.b;if(i.e||i.a!=l.a)if(r==l.b){if(r==Se)d.b=1,e.nodeValue=l.a;else if("\x1e"==r)d.b=1,x(t,l.a);else if(!o.mxs||o.mxs!=n.mxs){let t,c,p,u,h,f,g,b=n["mx-view"],x=l.c,_=i.f!=l.f,m=C(ke,r)||_,y=G[e.b],v=b&&D(b);if(m&&(m=Me(e,i,l,_))&&(d.b=1),b&&y&&y.g==v.path&&(u=y.a)){if(f=x!=i.c,g=b!=y.path,p=o.mxv,!f&&!g&&p)for(p of h=p.split(","))if("#"==p||C(s,p)){g=1;break}(g||f||m)&&((p=u.h&&u.m)?(h=v.params,J(y.pId,b,h),y.path=b,L(p,h,u)&&d.a.push(u),t=!u.tmpl):(c=1,t=1))}else t=1,c=y;c&&(d.b=1,y.unmountVframe(0,1)),t&&!l.j&&Le(e,i,l,d,a,s)}}else"\x1e"==i.b?x(t,l.a):(a.unmountZone(e),t.replaceChild(ze(l,t,d),e)),d.b=1},Ee={},Oe=w({get:e=>e?Ee[e]:Ee,set(e){w(Ee,e)}},Q),Pe=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,Ie=(e,t,i)=>(e.a?i=e:((i=function(e){L(i.a,e,this)}).a=[e],i.b=1),i.a=i.a.concat(t.a||t),i),Be=(e,t)=>{let i,l,d=e.c;for(i in d)l=d[i],(t||l.a)&&Ne(d,i,1)},Ne=(e,i,l,d)=>{let a,s,o=e[i];return o&&o!=d&&((a=(s=o.b).destroy)&&l&&L(a,t,s),delete e[i]),s},Ve=(e,t,i,l,d)=>{l=e[t],e[t]=e[i]=function(...e){(d=this).d>0&&(d.d++,d.fire("rendercall"),Be(d),L(l,e,d))}},Ye=(e,t)=>{let i,{n:l,i:d,o:a,id:s}=e;for(i in l)ne(i,d[i],t);for(i of(l=t?Y:V,a))l(i.a,i.b,i.c,s,i.d,e)},Re={win:i,doc:l},De=(e,t,i)=>{let l,d,a,s,o={};for(d of e)for(l in d)a=d[l],s=o[l],"ctor"!=l?(Pe.test(l)&&(s?a=Ie(s,a):a.b=1),o[l]=a):i.push(a);for(l in o)C(t,l)||(t[l]=o[l])};function Fe(...e){let t=this.a||(this.a=[]);return De(e,this[c],t),this}let He=e=>{if(!e["\x1e"]){e["\x1e"]=[];let t,i,l,d,a,s,o,n,r,p,u,h=e[c],f={},g=[],b={};for(o in(i=h.mixins)&&De(i,h,e["\x1e"]),h)if(t=h[o],i=o.match(Pe)){if([,s,l,d,u]=i,p={},u)for(n of u=u.split(","))p[n]=!0;for(n of d=d.split(",")){if(a=Re[l],r=1,s){if(a){g.push({c:t,a:a,b:n,d:p});continue}r=2,(a=b[n])||(a=b[n]=[]),a[l]||(a[l]=1,a.push(l))}f[n]=f[n]|r,(a=h[n=l+"\x1e"+n])?a.b&&(t.b?h[n]=Ie(t,a):C(h,o)&&(h[n]=t)):h[n]=t}}Ve(h,"render","g"),h.n=f,h.o=g,h.i=b,h.m=h.assign}return e["\x1e"]};function Xe(e,t,i,l,d){(d=this).root=t,d.owner=i,d.id=e,d.c={},d.d=1,d.k=1,d.e={id:e},d.a=new Map,d.f=[],d.j={},(e=Xe.a)&&L(e,l,d)}function Ue(){this.id=g("b"),this.a={}}w(Xe,{merge:Fe,extend:function e(t,i){let l=this,d=(t=t||{}).ctor,a=[];function s(e,t,i,d,o,n,r,c){l.call(r=this,e,t,i,d,o),(n=s.a)&&L(n,d,r),(c=a.concat(o)).length&&L(c,d,r)}return d&&a.push(d),s.merge=Fe,s.extend=e,W(s,l,t,i)}}),w(Xe[c],Q,{init:s,render:s,beginUpdate(e,t){(t=this).d>0&&t.h&&t.owner.unmountZone(e)},endUpdate(e,t,i,l){(t=this).d>0&&(l=t.h,t.h=1,(i=t.owner).mountZone(e),l||d(t.wrapAsync($),0,i))},wrapAsync(e,t){let i=this,l=i.d;return(...d)=>{if(l>0&&l==i.d)return e.apply(t||i,d)}},capture(e,t,i,l){return l=this.c,t?(Ne(l,e,1,t),l[e]={b:t,a:i}):t=(l=l[e])&&l.b,t},release(e,t){return Ne(this.c,e,t)},get(e,t){return t=this.e,e&&(t=t[e]),t},set(e,t){let i=this;return i.k=((e,t,i,l)=>{let d,a,s,o=0;for(s in e)d=e[s],a=t[s],y(d)&&a===d||C(l,s)||(i[s]=1,o=1),t[s]=d;return o})(e,i.e,i.j,t)||i.k,i},digest(e,t,i){let l=this.set(e,t),d=l.f;i&&d.push(i),d.a||ve(l,d)},snapshot(){return this.p=o(this.e),this},altered(){let e=this;if(e.p)return e.p!=o(e.e)},translate(e){return E(this.e,e)},parse(e){return H(e,this.a)}}),w(Ue[c],{get(e,t){let i,l=this.a;if(e){let t,i=f(e)?e.slice():(e+"").split(".");for(;(t=i.shift())&&l;)l=l[t];t&&(l=void 0)}return void 0!==t&&(i=u(t))!=u(l)&&(l=t),l},set(e,t){h(e)||(e={[e]:t}),w(this.a,e)}});let We=(e,t,i)=>l=>{(i=e[t])&&(delete e[t],L(i,l,i.a))},qe=(e,t,i,l,d,a)=>{let s=[],o=null,n=0;return function(c,p){let u;n++;let h,f=this,g=f.b,b=g.a;if(s[c+1]=f,p?(o=p,u=1):a.has(b)||(b&&a.set(b,f),g.b=r(),(h=g.c)&&L(h,f,f),u=1),!i.a){let t=n==l;t&&(i.b=0,2==d&&(s[0]=o,L(e,s,i))),1==d&&L(e,[p||null,f,t,c],i)}u&&t.fire("end",{bag:f,error:p})}},Ke=(e,t,i,l,d)=>{if(e.a)return e;if(e.b)return e.enqueue(Ke.bind(e,e,t,i,l,d));e.b=1,f(t)||(t=[t]);let a=e.constructor,s=0,o=a.d,n=qe(i,a,e,t.length,l,a.c);for(let e of t)if(e){let t,[i,l]=a.get(e,d),r=i.b.a,c=n.bind(i,s++);r&&o[r]?o[r].push(c):l?(r&&((t=[c]).a=i,o[r]=t,c=We(o,r)),a.e(i,c)):c()}return e};function Qe(){let e=this;e.id=g("s"),e.f=[]}w(Qe[c],{all(e,t){return Ke(this,e,t,2)},save(e,t){return Ke(this,e,t,2,1)},one(e,t){return Ke(this,e,t,1)},enqueue(e){let t=this;return t.a||(t.f.push(e),t.dequeue(t.g)),t},dequeue(...e){let t,i=this;i.b||i.a||(i.b=1,d(()=>{i.b=0,i.a||(t=i.f.shift())&&L(t,i.g=e)},0))},destroy(e){(e=this).a=1,e.f=0}});let Ge=(e,t)=>[o(t),o(e)].join("\x1e"),Je=w({add(e){let t,i=this.h;for(t of(f(e)||(e=[e]),e))if(t){let{name:e,cache:l}=t;t.cache=0|l,i[e]=t}},create(e){let t=this.meta(e),i=0|e.cache||t.cache,l=new Ue;l.set(t),l.b={c:t.after,a:i&&Ge(t,e)},h(e)&&l.set(e);let d=t.before;return d&&L(d,l,l),this.fire("begin",{bag:l}),l},meta(e){return this.h[e.name||e]||e},get(e,t){let i,l,d=this;return t||(i=d.cached(e)),i||(i=d.create(e),l=1),[i,l]},cached(e){let t,i,l=this,d=l.c,a=l.meta(e),s=0|e.cache||a.cache;if(s&&(i=Ge(a,e)),i){let e=l.d[i];e?t=e.a:(t=d.get(i))&&r()-t.b.b>s&&(d.del(i),t=0)}return t}},Q);Qe.extend=((e,t,i)=>{function l(){Qe.call(this)}return l.e=e,l.c=new P(t,i),l.d={},l.h={},W(l,Qe,null,Je)}),w(s[c],Q),s.extend=function e(t,i){let l=this,d=t&&t.ctor;function a(...e){l.apply(this,e),d&&d.apply(this,e)}return a.extend=e,W(a,l,t,i)};let Ze={config:(e,t)=>(t=m,e&&(t=h(e)?w(t,e):t[e]),t),boot(e){w(m,e),((e,t)=>(K||(e=m.rootId,(t=b(e))||(t=n),K=new te(t)),K))().mountView(m.defaultView)},toMap:(e,t)=>{let i,l={};if(e)for(i of e)l[t&&i?i[t]:i]=t?i:1+(0|l[i]);return l},toTry:L,toUrl:(e,t,i)=>{let l,d,s,o=[];for(d in t)l=t[d]+"",(!i||l||C(i,d))&&(l=a(l),o.push(s=d+"="+l));return s&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+o.join("&")),e},parseUrl:D,mix:w,has:C,keys:k,inside:v,applyStyle:z,guid:g,Cache:P,use:X,dispatch:(e,t,i)=>{let l=new Event(t,B);w(l,i),e.dispatchEvent(l)},type:u,View:Xe,State:Oe,Vframe:te,Service:Qe,Event:Q,guard:q,node:b};return Ze.default=Ze,Ze});let Designer={init(e){let t=document.getElementById("boot").src.replace(/\/[^\/]+$/,"/");seajs.config({paths:{designer:t+"designer",elements:t+"elements",gallery:t+"gallery",i18n:t+"i18n",panels:t+"panels"},alias:{magix:"magix5"}}),seajs.use(["magix","i18n/index"],(t,i)=>{t.applyStyle("d_",'body,h5,input,p,textarea,ul{margin:0;padding:0}ul{list-style-type:none;list-style-image:none}a{background-color:transparent}a:active,a:hover{outline-width:0}a:focus{outline:1px dotted}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.5}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h5{font-size:14px}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button;cursor:pointer}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto;resize:vertical}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a:focus,button:focus,input:focus,textarea:focus{outline:none;resize:none}a{color:#fa742b;text-decoration:none}a:focus,a:hover{color:#bd361b}a:active,a:focus,a:hover,a:visited{outline:0;text-decoration:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}@font-face{font-family:da;src:url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAcsAAsAAAAACqQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZXOEjOY21hcAAAAYAAAACWAAACCs4hbhBnbHlmAAACGAAAAugAAAO0BG1azWhlYWQAAAUAAAAALwAAADYPpP4TaGhlYQAABTAAAAAcAAAAJAfeA4pobXR4AAAFTAAAABQAAAAkI+kAAGxvY2EAAAVgAAAAFAAAABQEcAVsbWF4cAAABXQAAAAfAAAAIAEYAF1uYW1lAAAFlAAAAUUAAAJtPlT+fXBvc3QAAAbcAAAATwAAAGizaRo4eJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2Bk/ss4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVDy7z9zwv4EhhrmB4RRQmBEkBwA4Ig2aeJzFkbsNwzAMRE+RP0IQwEEG8AReyl1Kl+68g5Eqy7m7NZyj6EZI6viEJ4AnkRJIADWAKAZRAeGNANNLbsh+xDX7FZ6KH7jLuWBmYseeIxeu3PZdZ7+8UkH55TIvIql6raoNWhnNV97fFM57utQt79MRJTEf6ItMjk2OnWN32Ds2SY6OTZiLow6Dq6Neg5uD9gPbdC1VAAB4nH1SO2sUURi9370zd3Zmd+48dh77yr4mO7MmutlsxkkR3DQ2GgtBCAhaCBY2SrAwjUUw5CEo+A/EoAgR1LBpArEUQVBs3MrCYEAbY+xsMnpHV0ghDsM9936cj+9xDhIR+rlDtkkOZVETjaOT6CxCQEehzvAQ1IKwhUfBrom2azESeEFN8uotcgLcOrWcThT6LpWoBgzKMFHrREELB3A87OIp6DhDAPli4ZzZKJnkHii5oLwUn8ZrYFe8ktY9Fp86Om11qtnUfMY086Z5J0VFMYWxoDG46jqyKCs0fihqBXu7cgRXIJMPCmfOq9WieWk1vDbUcGWAhQXIFqvs8bRRMPh/s+Bkzbykq6lcQfWGLZjfTeeymSH/E+If5rNG5AfxURpNJVMiyUFuhCZ9RFzH0oDWx8CvDzCchigcYKcCTmeACc/CqB/vUgqlfh9KlMa7ZxYZa2gNbZH5bJFjg7FFVf1XkPic3j+UfrD3/4RDwT8z3CIH5AbKowZCYuAHXTjegoCBVAa3E006Sa9R2OCxLkzyGAPy9aMkj7bFvc3NPZGfM0uRIH00RqoHmys9Qnorv09vRxKipZneN0H41uPE9qgs7WjVkZecsNwThN7ySg8Br79AhskC9wuSsWPRegCuH062x/l6HIvY8Syss3JTizWPMXirNctkJJ6NZ/mFwXdPa+rwRis3uR6QiEIu4s9cDwQ1wzNqds2YMGrkQry/Gu+Dvgo69EEfvNDfHPwS9pL6v8UKfG7FSuK/KFEMvxBNae0+NTPicyKTtLghwhdRXFsTlaz0jAhAN4j5t/YsbCGCUJbXfYLXD/jz+sAn78lrMoJaaIxTJcpXym3uJbbg6rcwLzQGLegCv0xz6CRL5z1gKpGtR7oQYJpWtUz6nW2/UosOg7agP1Uk2WKfnPQV6pZcejntfGaWLCnw4K7h7Kp2SqZzijInYd1Wv7j6baVQNHBTsD5kNC3zwRKa2CgWFN7eL0lutBh4nGNgZGBgAGLnEJdv8fw2Xxm4WRhA4JrTXQME/d+MhYG5AcjlYGACiQIAFvYJkgB4nGNgZGBgbvjfwBDDwgACQJKRARVwAgBHDwJyeJxjYWBgYH7JwMDCgBsDAB8LAQ0AAAAAAHYA2AEYAT4BWAF8AYoB2nicY2BkYGDgZAhkYGUAASYg5gJCBob/YD4DABGZAXYAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbccxDoAgDAXQfkQEbsOR6gLVpAykCeH0xrj6tkeOPpn+JThs8NgRcCAiIRNmqMZ6ShjdhvU4hbUu6/4SLnE11pulvFM/RSvRA98yEWMA") format("woff")}.d_{font-family:da;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.da{margin-right:10px}.db{height:100%}.dc{text-align:center}.dd{float:left}.de{float:right}.df{position:relative}html .dg{display:none}.dh:after,.dh:before{content:" ";display:table}.dh:after{clear:both}.di{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dj::-webkit-scrollbar,.dj::-webkit-scrollbar-corner{height:8px;width:8px;background:#fafafa}.dj::-webkit-scrollbar-thumb{background:silver}.dj::-webkit-scrollbar-thumb:hover{background:#949494}.dk{word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.dk,.dl{white-space:nowrap}.dl{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;padding:4px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dl:focus,.dl:hover{background-color:#a0a0a0;color:#333}.dm{background-color:#fa742b;color:#fff}.dm:focus,.dm:hover{background-color:#bd361b;color:#fff}.dl[disabled]{background-color:#fbfbfb}.dl[disabled]:hover{border-color:#e6e6e6}.dn{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143;background:#fff}.do{padding:18px 25px}.dp{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6;background:#fff}.dq{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.dq:after,.dq:before{content:""}.dq:after,.dq:before,.dr{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:d_ 1s ease-in-out infinite both;animation:d_ 1s ease-in-out infinite both}.dq:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.dr{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes d_{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes d_{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}::-webkit-input-placeholder{color:#999}:-ms-input-placeholder{color:#999}::-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(243,123,99,.6)}::selection{background-color:rgba(243,123,99,.6)}.ds,.dt{caret-color:#fa742b;display:inline-block;height:22px;padding:3px 4px;border-radius:2px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none;transition:border-color .25s}.ds:hover,.dt:hover{border-color:#ccc}.ds:focus,.dt:focus,.du,.du:hover{border-color:#fa742b!important}.dt{height:auto}.ds[disabled],.dt[disabled]{background-color:#fbfbfb}.ds[disabled]:hover,.dt[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}@font-face{font-family:db;src:url(//at.alicdn.com/t/font_890516_vr2t7odsn1.eot);src:url(//at.alicdn.com/t/font_890516_vr2t7odsn1.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_890516_vr2t7odsn1.woff2) format("woff2"),url(//at.alicdn.com/t/font_890516_vr2t7odsn1.woff) format("woff"),url(//at.alicdn.com/t/font_890516_vr2t7odsn1.ttf) format("truetype"),url(//at.alicdn.com/t/font_890516_vr2t7odsn1.svg#iconfont) format("svg")}.dv{font-family:db;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#app,body,html{height:100%;overflow:hidden}body{min-width:900px}.dw{font-size:12px}.dx{margin-right:2px}.dy{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.dz{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.dA{margin-left:100px}.dB{margin-right:50px}.dC{display:flex;align-items:center}.dD{position:-webkit-sticky;position:sticky;top:0}');let l=navigator.language.toLowerCase();try{let e=window.localStorage;e&&(l=e.getItem("l.lang")||l)}catch(e){}t.config(e),t.config({lang:l});let d=i.default;t.View.merge({ctor(){this.set({i18n:d})},_cK(e,t){t=t||150;let i,l=Date.now();return(...d)=>{let a=Date.now();clearTimeout(i),a-l>t?(l=a,e.apply(this,d)):i=setTimeout(()=>{e.apply(this,d)},t-(a-l))}}}),document.title=d("_b"),t.boot({defaultPath:"/index",defaultView:"designer/index",rootId:"app",error(e){setTimeout(()=>{throw e},0)}})})}};define("gallery/mx-color/index",["magix","../mx-dragdrop/index","../mx-monitor/index"],(e,t)=>{let i,l,d,a,s,o,n,r,c,p,u,h,f={class:"daI"},g={xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},b={class:"daA df"},x={class:"daN"};Object.defineProperty(t,"__esModule",{value:!0});const _=e("magix"),m=e("../mx-dragdrop/index"),y=e("../mx-monitor/index");_.default.applyStyle("dh",'.daz{position:relative;height:22px;border:1px solid #e6e6e6;border-radius:2px;display:flex;align-items:center;cursor:pointer;padding:1px;transition:border-color .25s}.daz:hover{border-color:#ccc}.daA,.daB{background:#fff;background-image:linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0),linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0);background-position:0 0,6px 6px;background-size:12px 12px}.daB{min-width:18px;height:18px;text-indent:-100000em;border:1px solid #ccc;position:relative}.daC{padding:3px 4px}.daB:after{content:" ";display:block;right:0;bottom:0;position:absolute;border-color:transparent #ccc;border-style:solid;border-width:6px 6px 0 0}.daD{position:absolute;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:2px}.daE-bottom{top:100%;margin-top:4px}.daE-top{bottom:100%;margin-bottom:4px}.daF{width:176px}.daG{border:1px solid #000;float:left;width:12px;height:12px;margin:-1px 0 0 -1px;position:relative}.daH:before{content:" ";position:absolute;left:2px;top:2px;border:1px inset #e8e8e8;width:6px;height:6px}.daI{margin:5px 0;height:150px}.daJ{position:relative;float:left;width:148px;height:148px}.daK{position:absolute;width:8px;height:8px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;left:-4px;top:-4px}.daL{width:18px;height:148px;position:relative;float:left;margin-left:10px}.daM{position:absolute;left:2px;top:-2px;height:4px;width:14px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.daN{height:25px}.daO{width:80px}.daP,.daO{margin-right:5px;vertical-align:middle}.daP{width:30px;border-radius:2px;height:22px;display:inline-block;border:1px solid #ddd}.daQ{position:absolute;right:5px;top:4px;font-size:12px;opacity:.2}.daQ:hover{opacity:.5}.daA{width:174px;height:12px;margin-bottom:5px}.daR{height:100%}.daS{position:absolute;left:-2px;top:2px;height:8px;width:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.daT{cursor:not-allowed;background-color:#fbfbfb}.daT:hover{border-color:#e6e6e6}.daT:hover .daQ{opacity:.1}.daT .daB{opacity:.4}.daT .daQ{opacity:.1}');let v=["d81e06","f4ea2a","1afa29","1296db","13227a","d4237a","ffffff","e6e6e6","dbdbdb","cdcdcd","bfbfbf","8a8a8a","707070","515151","2c2c2c","000000","ea986c","eeb174","f3ca7e","f9f28b","c8db8c","aad08f","87c38f","83c6c2","7dc5eb","87a7d6","8992c8","a686ba","bd8cbb","be8dbd","e89abe","e8989a","e16632","e98f36","efb336","f6ef37","afcd51","7cba59","36ab60","1baba8","17ace3","3f81c1","4f68b0","594d9c","82529d","a4579d","db649b","dd6572","d84e06","e0620d","ea9518","f4ea2a","8cbb1a","2ba515","0e932e","0c9890","1295db","0061b2","0061b0","004198","122179","88147f","d3227b","d6204b"],w=(e,t,i)=>{let l,d,a,s,o;e=e%360/60,l=d=a=i-(o=i*t);let n=255*(l+=[o,s=o*(1-Math.abs(e%2-1)),0,0,s,o][e=~~e]),r=255*(d+=[s,o,o,s,0,0][e]),c=255*(a+=[0,0,s,o,o,s][e]);return{r:n,g:r,b:c,hex:"#"+(16777216|c|r<<8|n<<16).toString(16).slice(1)}};t.default=_.default.View.extend({tmpl:(e,t,_,m,y,v,w,k)=>{let A,S,j,T,M,z,L,C,E,O,P=[],{disabled:I,id:B,text:N,textWidth:V,color:Y,clear:R,i18n:D,placement:F,align:H,renderUI:X,shortcuts:U,alpha:W,current:q}=e;if(S=[],N&&(M=[t(0,0,N)],T="",V&&(T+="width:"+m(V)+"px"),j=[t("div",{class:"daC di","mx-click":_+"\x1e_bd()",style:T},M)],S.push(...j)),j=[t(0,0,"picker")],T="",Y&&(T+="background:"+m(Y)+";"),N||(T+="width:100%"),S.push(t("div",{class:"daB di","mx-click":_+"\x1e_bd()",style:T},j)),R&&Y&&(M=[t(0,0,"\ue67f")],j=[t("i",{class:"d_ daQ","mx-click":_+"\x1e_be()",title:m(D("_G"))},M)],S.push(...j)),j=[],X){M=[],z=[];for(let e=0,i=U,l=i.length;e<l;e++){let l=i[e];L=[t("li",{class:"daG",id:"sc_"+m(l)+"_"+m(B),style:"background:#"+m(l),"mx-click":_+"\x1e_b_({color:'#"+k(l)+"'})"})],z.push(...L)}M.push(t("ul",{class:"daF dh",id:"scs_"+m(B)},z)),O=i?[i]:[i=t("stop",{mxs:"dk:_",offset:"0%","stop-color":"#000000","stop-opacity":"1"})],l?O.push(l):O.push(l=t("stop",{mxs:"dk:a",offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})),E=[t("lineargradient",{id:"gb_"+m(B),x1:"0%",y1:"100%",x2:"0%",y2:"0%"},O)],O=d?[d]:[d=t("stop",{mxs:"dk:b",offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"})],l?O.push(l):O.push(l=t("stop",{mxs:"dk:a",offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})),E.push(t("lineargradient",{id:"gw_"+m(B),x1:"0%",y1:"100%",x2:"100%",y2:"100%"},O)),C=[t("defs",0,E),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gw_"+m(B)+")"}),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gb_"+m(B)+")"})],L=[t("svg",g,C),t("div",{class:"daK",id:"ci_"+m(B)})],z=[t("div",{class:"daJ",id:"cz_"+m(B),"mx-mousedown":_+"\x1e_aW()"},L)],O=a?[a]:[a=t("stop",{mxs:"dk:c",offset:"0%","stop-color":"#FF0000","stop-opacity":"1"})],s?O.push(s):O.push(s=t("stop",{mxs:"dk:d",offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"})),o?O.push(o):O.push(o=t("stop",{mxs:"dk:e",offset:"25%","stop-color":"#8000FF","stop-opacity":"1"})),n?O.push(n):O.push(n=t("stop",{mxs:"dk:f",offset:"38%","stop-color":"#0040FF","stop-opacity":"1"})),r?O.push(r):O.push(r=t("stop",{mxs:"dk:g",offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"})),c?O.push(c):O.push(c=t("stop",{mxs:"dk:h",offset:"63%","stop-color":"#00FF40","stop-opacity":"1"})),p?O.push(p):O.push(p=t("stop",{mxs:"dk:i",offset:"75%","stop-color":"#0BED00","stop-opacity":"1"})),u?O.push(u):O.push(u=t("stop",{mxs:"dk:j",offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"})),h?O.push(h):O.push(h=t("stop",{mxs:"dk:k",offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})),E=[t("lineargradient",{id:"ghsv_"+m(B),x1:"0%",y1:"100%",x2:"0%",y2:"0%"},O)],C=[t("defs",0,E),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#ghsv_"+m(B)+")"})],L=[t("svg",g,C),t("div",{class:"daM",id:"si_"+m(B)})],z.push(t("div",{class:"daL","mx-mousedown":_+"\x1e_aX()"},L)),M.push(t("div",f,z)),W&&(C=[t("div",{class:"daS",id:"ai_"+m(B)})],L=[t("div",{class:"daR df",id:"at_"+m(B),"mx-mousedown":_+"\x1e_aY()"},C)],z=[t("div",b,L)],M.push(...z)),z=[t("span",{class:"daP",id:"bc_"+m(B)}),t("input",{class:"ds daO",readonly:!0,id:"v_"+m(B),value:m(q)},0,1)],L=[t(0,0,"\u786e\u5b9a")],z.push(t("button",{mxs:"dk:l",class:"dl dm",type:"button","mx-click":_+"\x1e_aZ();"},L)),M.push(t("div",x,z)),j.push(...M)}return S.push(t("div",{id:"bd_"+m(B),class:"daD daE-"+m(F),style:m(H)+":-1px"},j)),A="daz",I&&(A+=" daT"),P.push(t("div",{"mx-contextmenu":_+"\x1e_A()",id:"root_"+m(B),class:A},S)),t(_,0,P)},mixins:[m.default],init(e){this.set({shortcuts:v}),y.default._aL(),this.on("destroy",()=>{y.default._aM(this),y.default._aN()}),this.assign(e)},assign(e){return this._aa=e.color,this._aO=e.alpha+""=="true",this._aP={h:0,s:1,v:1},this.set({clear:e.clear+""=="true",text:e.text||"",disabled:e.disabled+""=="true",align:e.align||"left",textWidth:e.textWidth||0,placement:e.placement||"bottom"}),!0},render(){this.digest({alpha:this._aO,color:this._aa,current:this._aa})},_aS(e,t){let i=this,l=i._aP;l.h=e.h,l.s=e.s,l.v=e.v;let d=w(e.h,e.s,e.v).hex,a=_.default.node("cz_"+i.id),s=a.clientWidth,o=w(e.h,1,1);if(a.style.background=o.hex,i._aQ=d,i._aR(),!t){let e=_.node("scs_"+i.id).querySelector('li[class$="daH"]');e&&e.classList.remove("daH");let t=_.node("si_"+i.id),d=t.clientHeight/2,a=Math.round(l.h*s/360-d),o=_.node("ci_"+i.id),n=o.clientWidth/2;t.style.top=a+"px",a=Math.round((1-l.v)*s-n);let r=Math.round(l.s*s-n);o.style.left=r+"px",o.style.top=a+"px"}let n=_.node("sc_"+d.substr(1,6)+"_"+i.id);n&&n.classList.add("daH")},_aV(e){let t=this,i=parseInt(e.substr(1,2),16);isNaN(i)&&(i=255);let l=parseInt(e.substr(3,2),16);isNaN(l)&&(l=255);let d=parseInt(e.substr(5,2),16);isNaN(d)&&(d=255);let a=((e,t,i)=>{let l,d,a,s;return e/=255,t/=255,i/=255,{h:l=(l=0==(s=(a=Math.max(e,t,i))-Math.min(e,t,i))?null:a==e?(t-i)/s+(t<i?6:0):a==t?(i-e)/s+2:(e-t)/s+4)%6*60,s:d=0===s?0:s/a,v:a}})(i,l,d),s=parseInt(e.substr(7,2),16);isNaN(s)&&(s=255),t._aT=("0"+s.toString(16)).slice(-2),t._aS(a),t._aO&&t._aU(s)},_aU(e){let t=_.node("ai_"+this.id);e/=255,e*=_.node("at_"+this.id).clientWidth,e-=t.clientWidth/2,t.style.left=e+"px"},_aR(){let e=this,t=_.node("bc_"+e.id),i=e._aQ;e._aO&&(_.node("at_"+e.id).style.background="linear-gradient(to right, "+i+"00 0%,"+i+" 100%)",i+=e._aT),t.style.background=i,_.node("v_"+e.id).value=i},"_A<contextmenu>"(e){e.preventDefault()},"_aW<mousedown>"(e){let t=this,i=_.node("cz_"+t.id).clientWidth,l=_.node("ci_"+t.id).clientWidth/2,d=e.eventTarget.getBoundingClientRect(),a=e.pageX-d.left-window.pageXOffset,s=e.pageY-d.top-window.pageYOffset,o=a/i,n=(i-s)/i;t._aS({h:t._aP.h,s:o,v:n});let r=_.node("ci_"+t.id),c=getComputedStyle(r),p=c.left,u=c.top,h=parseInt(p,10),f=parseInt(u,10),g=e;t._w(e,e=>{let d=e.pageY-g.pageY,a=e.pageX-g.pageX;(d+=f)<=-l?d=-l:d>=i-l&&(d=i-l),(a+=h)<=-l?a=-l:a>=i-l&&(a=i-l),r.style.left=a+"px",r.style.top=d+"px";let s=(a+l)/i,o=(i-(d+l))/i;t._aS({h:t._aP.h,s:s,v:o})})},"_aX<mousedown>"(e){let t=this,i=e.eventTarget,l=_.node("si_"+t.id),d=_.node("cz_"+t.id).clientWidth,a=l.clientHeight/2,s=i.getBoundingClientRect(),o=(e.pageY-s.top-window.scrollY)/d*360;t._aS({h:o,s:t._aP.s,v:t._aP.v});let n=parseInt(getComputedStyle(l).top,10);t._w(e,i=>{let s=i.pageY-e.pageY;(s+=n)<=-a?s=-a:s>=d-a&&(s=d-a),l.style.top=s+"px";let o=(s+a)/d*360;t._aS({h:o,s:t._aP.s,v:t._aP.v},!0)})},"_aY<mousedown>"(e){let t=e.eventTarget,i=this,l=_.node("ai_"+i.id),d=_.node("at_"+i.id).clientWidth,a=l.clientWidth/2,s=t.getBoundingClientRect(),o=(e.pageX-s.left)/d*255|0;i._aT=("0"+o.toString(16)).slice(-2),i._aU(o),i._aR();let n=getComputedStyle(l),r=parseInt(n.left,10);i._w(e,t=>{let s=t.pageX-e.pageX;(s+=r)<=-a?s=-a:s>=d-a&&(s=d-a),l.style.left=s+"px";let o=Math.round((s+a)/d*255);i._aT=("0"+o.toString(16)).slice(-2),i._aR()})},"_aZ<click>"(){let e=this;e._y();let t=_.node("v_"+e.id).value;t!=e._aa&&(e.digest({color:t,current:t}),_.default.dispatch(e.root,"input",{color:e._aa=t}))},"_b_<click>"(e){this._aV(e.params.color),e.eventTarget.classList.add("daH")},_ba(e){return _.default.inside(e,this.root)},_x(){let e=_.node("bd_"+this.id);"none"==getComputedStyle(e).display&&(e.style.display="block",y.default._bb(this),_.node("root_"+this.id).classList.add("du"),this._bc||(this.digest({renderUI:!0},null,()=>{this._aV(this._aa)}),this._bc=1))},_y(){let e=_.node("bd_"+this.id);"none"!=getComputedStyle(e).display&&(_.node("root_"+this.id).classList.remove("du"),e.style.display="none",y.default._aM(this))},"_bd<click>"(){if(this.get("disabled"))return;let e=_.node("bd_"+this.id);"none"==getComputedStyle(e).display?this._x():this._y()},"_be<click>"(){if(this.get("disabled"))return;let e=this;if(e._bc){let t=_.node("v_"+e.id).value;e._y(),e.digest({color:"",current:t})}else e.digest({color:""});_.default.dispatch(e.root,"input",{color:e._aa=""})}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],(e,t)=>{let i={class:"dn"},l={class:"do",style:"word-break:break-all;"},d={class:"dp dh"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),s=e("../../i18n/index");t.default=a.default.View.extend({tmpl:(e,t,a)=>{let s,o,n=[],{title:r,body:c,i18n:p}=e;return o=[t(0,0,r)],s=[t("h5",0,o)],n.push(t("div",i,s)),s=[t(0,0,c)],n.push(t("div",l,s)),o=[t(0,0,p("_I"))],s=[t("button",{"mx-click":a+"\x1e_aZ();",class:"dl dm de",type:"button"},o)],n.push(t("div",d,s)),t(a,0,n)},init(e){this._bf=e.dialog,this._bg=e.body,this._bh=e.title||s.default("_H"),this._bi=e.enterCallback},render(){this.digest({body:this._bg,title:this._bh})},"_aZ<click>"(){let e=this;e._bf.close(),e._bi&&a.default.toTry(e._bi)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],(e,t)=>{let i={class:"dn"},l={class:"do",style:"word-break:break-all;"},d={class:"dp dh"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),s=e("../../i18n/index");t.default=a.default.View.extend({tmpl:(e,t,a)=>{let s,o,n=[],{title:r,body:c,i18n:p}=e;return o=[t(0,0,r)],s=[t("h5",0,o)],n.push(t("div",i,s)),s=[t(0,0,c)],n.push(t("div",l,s)),o=[t(0,0,p("_J"))],s=[t("button",{type:"button","mx-click":a+"\x1e_bk()",class:"dl de"},o)],o=[t(0,0,p("_I"))],s.push(t("button",{type:"button","mx-click":a+"\x1e_aZ()",class:"dl dm da de"},o)),n.push(t("div",d,s)),t(a,0,n)},init(e){let t=this;t._bf=e.dialog,t._bg=e.body,t._bh=e.title||s.default("_H"),t._bi=e.enterCallback,t._bj=e.cancelCallback},render(){this.digest({body:this._bg,title:this._bh})},"_aZ<click>"(){let e=this;e._bf.close(),e._bi&&a.default.toTry(e._bi)},"_bk<click>"(){let e=this;e._bf.close(),e._bj&&a.default.toTry(e._bj)}})}),define("gallery/mx-dialog/index",["magix","./alert","./confirm"],(e,t)=>{let i;Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix");e("./alert"),e("./confirm"),l.default.applyStyle("di",".daU{position:absolute}.daV{position:relative;background-color:#fff;border-radius:2px;border:1px solid #e6e6e6}.daW{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.daW:focus,.daW:hover{opacity:.5}.daX{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2}.daY{-webkit-filter:blur(3px);filter:blur(3px)}.daZ{-webkit-animation:dd .3s;animation:dd .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.db_{position:absolute;right:10px;top:0;width:1px;height:0}.dba{padding:80px 0}@-webkit-keyframes dd{0%{opacity:0}to{opacity:.2}}@keyframes dd{0%{opacity:0}to{opacity:.2}}.dbb{-webkit-animation:de .2s;animation:de .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes de{0%{opacity:.2}to{opacity:0}}@keyframes de{0%{opacity:.2}to{opacity:0}}.dbc{margin-bottom:50px;min-height:60px}.dbd{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.dbe{-webkit-animation:df .3s;animation:df .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes df{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes df{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.dbf{-webkit-animation:dg .2s;animation:dg .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes dg{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes dg{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");let d=500,a=[];t.default=l.default.View.extend({tmpl:(e,t,l,d)=>{let a,s,o,n,r,c=[],{removeClass:p,zIndex:u,id:h,left:f,top:g,width:b,closable:x}=e;return a="daX",p||(a+=" daZ"),c.push(t("div",{style:"z-index:"+d(u-1),id:"mask_"+d(h),class:a})),o=[t("input",{id:"focus_"+d(h),class:"db_"},0,1)],n=[t(0,0,"\ue67f")],o.push(t("span",{class:"d_ daW "+d(x?"":"dg"),"mx-click":l+"\x1e_bn()"},n)),i?n=[i]:(r=[t("span",{class:"dr"})],n=[i=t("div",{mxs:"dn:_",class:"dq dba"},r)]),o.push(t("div",{class:"daV dbc",id:"cnt_"+d(h)},n)),a="daU",p||(a+=" dbe"),s=[t("div",{id:"body_"+d(h),style:"left:"+d(f)+"px;top:"+d(g)+"px;width:"+d(b)+"px;",class:a},o)],c.push(t("div",{class:"dbd",style:"z-index:"+d(u)+";"},s)),t(l,0,c)},init(e){let t=this,i=l.default.node("app"),s=t.root;t.on("destroy",()=>{(e=>{for(let t,i=a.length-1;i>=0;i--)if((t=a[i]).id==e.id){a.splice(i,1);break}})(t),500==(d-=2)&&i.classList.remove("daY"),l.default.dispatch(s,"close"),s.parentNode.removeChild(s)}),l.default.has(e,"closable")||(e.closable=!0),t.set(e),500==d&&i.classList.add("daY"),d+=2,a.push(t)},render(){let e=this;e.digest({zIndex:d},null,()=>{let t=e.get();setTimeout(e.wrapAsync(()=>{e.root.style.display="block",l.default.node("focus_"+e.id).focus()}),30),e.owner.mountVframe(l.default.node("cnt_"+e.id),t.view,t),setTimeout(e.wrapAsync(()=>{e.digest({removeClass:!0})}),300)})},_bl(e){let t=l.default.node("cnt_"+this.id);l.default.Vframe.byNode(t).invoke("fire",["unload",e])},_bm(){let e,t=this.id;(e=l.default.node("body_"+t)).classList.add("dbf"),(e=l.default.node("mask_"+t)).classList.add("dbb")},"_bn<click>"(){l.default.dispatch(this.root,"dlg_close")},"$doc<keyup>"(e){if(27==e.keyCode){let e=a[a.length-1];e==this&&e.get("closable")&&l.default.dispatch(this.root,"dlg_close")}}},{_bp(e,t){let i=l.default.guid("dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+i+'" style="display:none" />');let d,a=l.default.node(i),s=e.owner.mountVframe(a,"gallery/mx-dialog/index",t);return a.addEventListener("dlg_close",()=>{if(!a._bo&&!d){let e=()=>{a._bo=1,s.invoke("_bm"),setTimeout(()=>{s.unmountVframe()},200)},t={p:0,prevent(){d=1},resolve(){t.p=1,d=0,e()},reject(){t.p=1,d=0}};s.invoke("_bl",[t]),d||t.p||e()}}),a},alert(e,t,i){this.confirm(e,t,null,i,"alert")},confirm(e,t,i,l,d){this.mxDialog("gallery/mx-dialog/"+(d||"confirm"),{body:e,cancelCallback:i,enterCallback:t,title:l,modal:!0,width:300,closable:!1,left:(window.innerWidth-300)/2,top:Math.max((window.innerHeight-220)/2,0)})},mxDialog(e,t){let i,d,a=this,s={view:e};return l.default.use(e,a.wrapAsync(o=>{let n="$dlg_"+e;a[n]||(a[n]=1,l.default.mix(s,o.dialogOptions),l.default.mix(s,t),s.width||(s.width=500),s.left||(s.left=(window.innerWidth-s.width)/2),s.top||(s.top=100),s.dialog={close(){i&&l.default.dispatch(i,"dlg_close")}},(i=a._bp(a,s)).addEventListener("close",()=>{delete a[n],d&&d()}))})),{close(){i&&l.default.dispatch(i,"dlg_close")},whenClose(e){d=e}}}})}),define("gallery/mx-dragdrop/index",[],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=window.getComputedStyle,l=e=>{(e=window.getSelection)&&e().removeAllRanges()},d=e=>{e.preventDefault()},a=["mousemove","touchmove","pointermove"],s=["mouseup","touchend","pointercancel","touchcancel"],o=["keydown","mousewheel","DOMMouseScroll","fullscreenchange"];t.default={ctor(){let e=this;e.on("destroy",()=>{e._bq()})},_bq(e){let t=this,i=t._br;if(i){let l;for(l of(delete t._br,a))document.removeEventListener(l,t._bs);for(l of s)document.removeEventListener(l,t._bt);for(l of o)document.removeEventListener(l,d);window.removeEventListener("blur",t._bt);let n=i._bu;i._bv&&n(e)}},_w(e,t,i){let n=this;if(n._bq(),e){l(),n._br={_bu:i,_bv:!!i};let e,r=!!t;for(e of(n._bw=0,n._bt=(e=>{n._bw=1,n._bq(e)}),n._bs=(e=>{r&&t(e)}),a))document.addEventListener(e,n._bs);for(e of s)document.addEventListener(e,n._bt);for(e of o)document.addEventListener(e,d,{passive:!1});window.addEventListener("blur",n._bt)}},_aq(e,t){let l=null;if(document.elementFromPoint)for(!d._bx&&i&&(d._bx=!0,d._by=null!==document.elementFromPoint(-1,-1)),d._by&&(e+=window.pageXOffset,t+=window.pageYOffset),l=document.elementFromPoint(e,t);l&&3==l.nodeType;)l=l.parentNode;return l},_bz:l}}),define("gallery/mx-dropdown/index",["magix","../mx-monitor/index"],(e,t)=>{let i,l={class:"dbn"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),a=e("../mx-monitor/index");d.default.applyStyle("dj",'.dbg{outline:0;position:relative;min-width:50px;width:100%;background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;display:inline-block;vertical-align:middle;height:22px;transition:all .25s}.dbg:hover{border-color:#ccc}.dbh{color:#333;position:relative;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 20px 0 3px}.dbi{cursor:not-allowed;background-color:#fbfbfb}.dbi:hover{border-color:#e6e6e6}.dbi .dbh{cursor:not-allowed}.dbj{position:absolute;right:0;top:0;font-size:20px;color:#ccc;transition:all .25s}.dbk .dbj{-webkit-transform:rotate(180deg);transform:rotate(180deg);top:0}.dbg[tabindex="0"]:focus,.dbk,.dbk:hover{border-color:#fa742b}.dbl{height:20px;line-height:21px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.dbm{color:#999}.dbn{position:absolute;top:100%;left:-1px;right:-1px;margin-top:4px;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dbk .dbn{display:block}.dbo{overflow:auto;max-height:196px;padding:2px 0}.dbp{padding:0 2px;margin:2px 0}.dbq{cursor:pointer;color:#666;display:block;width:100%;padding:0 5px;height:20px;line-height:20px;border-radius:2px}.dbq:hover{color:#333;background-color:#f0f0f0}.dbr,.dbr:active,.dbr:focus,.dbr:hover{color:#fff;background-color:#fa742b}'),t.default=d.default.View.extend({tmpl:(e,t,d,a,s,o,n)=>{let r,c,p,u,h,f,g,b,x,_,m=[],{disabled:y,id:v,selectedText:w,selected:k,emptyText:A,rList:S,list:j,textKey:T,valueKey:M}=e;if(p=[],h=[t(0,0,w)],c="dbl",""!==k&&k!=A||(c+=" dbm"),u=[t("span",{class:c},h)],i?u.push(i):(h=[t(0,0,"\ue692")],u.push(i=t("span",{mxs:"do:_",class:"d_ dbj"},h))),p.push(t("div",{class:"dbh","mx-click":d+"\x1e_bd()",title:a(w)},u)),S){g=[];for(let e=0,i=j,l=i.length;e<l;e++){let l=i[e];b=[];let s=l,p=l;T&&M&&(f="",s=l[T],f+=" ",p=l[M]);let u=p+""==k+"";_=[t(0,0,s)],c="dbq dk",u&&(c+=" dbr"),x=[t("span",{"mx-click":d+"\x1e_bA({item:'"+n(o,l)+"'})",class:c},_)],b.push(t("li",{title:a(s),active:null!=(r=u)&&r,class:"dbp"},x)),g.push(...b)}h=[t("ul",{class:"dbo",id:"list_"+a(v)},g)],u=[t("div",l,h)],p.push(...u)}return c="dbg",y&&(c+=" dbi"),m.push(t("div",{id:"dd_"+a(v),class:c},p)),t(d,0,m)},init(e){a.default._aL(),this.on("destroy",()=>{a.default._aM(this),a.default._aN()}),this.assign(e)},assign(e){let t=e.selected,i=e.textKey||"",l=e.valueKey||"",a=e.emptyText||"",s=e.disabled+""=="true",o=e.list||[];o=o.slice();let n=d.default.toMap(o,l);if(a)if(i&&l){if(!n[""]){let e={};e[i]=a,e[l]="",o.unshift(e),n[""]=e}}else n[a]||(o.unshift(a),n[a]=a);t||!a||i||l||(t=a),t&&n[t]||(t=n[t]||o[0],i&&l&&(t=t[l]));let r=i&&l?n[t][i]:t;return this.set({selected:t,selectedText:r,list:o,textKey:i,valueKey:l,emptyText:a,disabled:s}),!0},render(){this.digest()},_ba(e){return d.default.inside(e,this.root)},_x(){let e=this,t=d.default.node("dd_"+e.id);if(!t.classList.contains("dbk")){t.classList.add("dbk");let i=()=>{let i=(t=d.default.node("list_"+e.id)).querySelector("li[active]");i&&i.scrollIntoViewIfNeeded&&i.scrollIntoViewIfNeeded()};e.get("rList")?i():e.digest({rList:!0},null,i),a.default._bb(e)}},_y(){let e=this,t=d.default.node("dd_"+e.id);t.classList.contains("dbk")&&(t.classList.remove("dbk"),a.default._aM(e))},"_bd<click>"(){let e=this,t=d.default.node("dd_"+e.id);t.classList.contains("dbk")?e._y():t.classList.contains("dbi")||e._x()},"_bA<click>"(e){let t=this;t._y();let i=t.get("valueKey"),l=t.get("textKey"),a=t.get("selected"),s=e.params.item,o=s,n=s;l&&i&&(n=s[l],o=s[i]),a!==o&&(t.digest({selected:o,selectedText:n}),d.default.dispatch(t.root,"change",{item:s,value:i?s[i]:s,text:l?s[l]:s}))}})}),define("gallery/mx-font/align",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");i.default.applyStyle("dk",".dbs{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.dbt{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.dbt:hover{background:#ccc}.dbu,.dbu:hover{background:#fa742b;color:#fff}.dbv,.dbv .dbt{cursor:not-allowed;opacity:.7}.dbv .dbt,.dbv .dbt:hover{background:#e9e9e9}.dbv .dbu,.dbv .dbu:hover{background:#fb955d}"),t.default=i.default.View.extend({tmpl:(e,t,i,l)=>{let d,a,s,o=[],{disabled:n,i18n:r,value:c}=e;return s=[t(0,0,"\ue687")],d="dd dbt dv","flex-start"==c.h&&(d+=" dbu"),a=[t("li",{title:l(r("_K")),"mx-click":i+"\x1e_ax({type:'h',v:'flex-start'})",class:d},s)],s=[t(0,0,"\ue68a")],d="dd dbt dv","center"==c.h&&(d+=" dbu"),a.push(t("li",{title:l(r("_L")),"mx-click":i+"\x1e_ax({type:'h',v:'center'})",class:d},s)),s=[t(0,0,"\ue686")],d="dd dbt dv","flex-end"==c.h&&(d+=" dbu"),a.push(t("li",{title:l(r("_M")),"mx-click":i+"\x1e_ax({type:'h',v:'flex-end'})",class:d},s)),s=[t(0,0,"\ue614")],d="dd dbt dv","flex-start"==c.v&&(d+=" dbu"),a.push(t("li",{title:l(r("_N")),"mx-click":i+"\x1e_ax({type:'v',v:'flex-start'})",class:d},s)),s=[t(0,0,"\ue613")],d="dd dbt dv","center"==c.v&&(d+=" dbu"),a.push(t("li",{title:l(r("_O")),"mx-click":i+"\x1e_ax({type:'v',v:'center'})",class:d},s)),s=[t(0,0,"\ue612")],d="dd dbt dv","flex-end"==c.v&&(d+=" dbu"),a.push(t("li",{title:l(r("_P")),"mx-click":i+"\x1e_ax({type:'v',v:'flex-end'})",class:d},s)),d="di dbs",n&&(d+=" dbv"),o.push(t("ul",{class:d},a)),t(i,0,o)},init(e){this.assign(e)},assign(e){return this._bB=e.value,this.set({value:e.value,disabled:e.disabled}),!0},render(){this.digest()},"_ax<click>"(e){let t=this;if(t.get("disabled"))return;let l=t._bB,{type:d,v:a}=e.params;l[d]=a,t._bB=l,t.digest({value:l}),i.default.dispatch(t.root,"input",{value:l})}})}),define("gallery/mx-font/style",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");i.default.applyStyle("dk",".dbs{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.dbt{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.dbt:hover{background:#ccc}.dbu,.dbu:hover{background:#fa742b;color:#fff}.dbv,.dbv .dbt{cursor:not-allowed;opacity:.7}.dbv .dbt,.dbv .dbt:hover{background:#e9e9e9}.dbv .dbu,.dbv .dbu:hover{background:#fb955d}"),t.default=i.default.View.extend({tmpl:(e,t,i,l)=>{let d,a,s,o=[],{disabled:n,i18n:r,value:c}=e;return s=[t(0,0,"\ue749")],d="dd dbt dv",c.bold&&(d+=" dbu"),a=[t("li",{title:l(r("_Q")),"mx-click":i+"\x1e_ax({key:'bold'})",class:d},s)],s=[t(0,0,"\ue65f")],d="dd dbt dv",c.italic&&(d+=" dbu"),a.push(t("li",{title:l(r("_R")),"mx-click":i+"\x1e_ax({key:'italic'})",class:d},s)),s=[t(0,0,"\ue62e")],d="dd dbt dv",c.underline&&(d+=" dbu"),a.push(t("li",{title:l(r("_S")),"mx-click":i+"\x1e_ax({key:'underline'})",class:d},s)),d="di dbs",n&&(d+=" dbv"),o.push(t("ul",{class:d},a)),t(i,0,o)},init(e){this.assign(e)},assign(e){return this._bB=e.value,this.set({value:e.value,disabled:e.disabled}),!0},render(){this.digest()},"_ax<click>"(e){let t=this;if(t.get("disabled"))return;let l=t._bB,{key:d}=e.params;l[d]=!l[d],t._bB=l,t.digest({value:l}),i.default.dispatch(t.root,"input",{value:l})}})}),define("gallery/mx-layout/column",["magix","../mx-number/index"],(e,t)=>{e("../mx-number/index");let i={class:"dbw"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix");l.default.applyStyle("dl",".dbw{display:flex;margin:5px 0;align-items:center}.dbx{flex-basis:24px;text-align:right;color:#333;font-size:12px}.dby,.dbx{cursor:pointer}.dbz{cursor:not-allowed;color:#bbb}"),t.default=l.default.View.extend({tmpl:(e,t,l,d,a,s,o)=>{let n,r,c,p,u,h,f=[],{columns:g,disabled:b,i18n:x}=e;for(let e=0,a=g,_=a.length;e<_;e++){let _=a[e];(c=[]).push(t("div",{mxv:"columns",disabled:null!=(n=b)&&n,"mx-input":l+"\x1e_bD({index:"+d(e)+"})","mx-change":l+"\x1e_bC()",class:"ds df","mx-view":"gallery/mx-number/index?value="+o(s,_.width)+"&max=1&min=0&fixed=2&step=0.01"})),g.length>1&&(h=[t(0,0,"\ue600")],u="dv dbx",b&&(u+=" dbz"),p=[t("i",{title:d(x("_T")),"mx-click":l+"\x1e_bF({index:"+d(e)+"})",class:u},h)],c.push(...p)),r=[t("div",i,c)],f.push(...r)}return r=[t(0,0,"\ue6c5")],u="dv dby",b&&(u+=" dbz"),f.push(t("i",{title:d(x("_U")),"mx-click":l+"\x1e_bE()",class:u},r)),t(l,0,f)},init(e){this.assign(e)},assign(e){return this.set(e),!0},render(){this.digest()},"_bC<change>"(e){e.stopPropagation()},"_bD<input>"(e){let t=this.get("columns"),{index:i}=e.params;t[i].width=e.value,l.default.dispatch(this.root,"change")},"_bE<click>"(){if(this.get("disabled"))return;let e=this.get("columns");e.push({width:0,elements:[]}),this.digest({columns:e}),l.default.dispatch(this.root,"change")},"_bF<click>"(e){if(this.get("disabled"))return;let t=this.get("columns"),{index:i}=e.params;t.splice(i,1),this.digest({columns:t}),l.default.dispatch(this.root,"change")}})}),define("gallery/mx-layout/guage",["magix","../mx-number/index"],(e,t)=>{e("../mx-number/index");let i={class:"dbA"},l={class:"dbB"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix");d.default.applyStyle("dm",".dbA{display:flex;align-items:center}.dbB{width:30px}");let a=["_V","_W","_X","_Y"];t.default=d.default.View.extend({tmpl:(e,t,d,a,s,o,n)=>{let r,c,p,u,h=[],{i18n:f,titles:g,disabled:b,guage:x}=e;for(let e=0;e<4;e++)u=[t(0,0,f(g[e]))],p=[t("div",l,u),t("div",{mxv:"guage",disabled:null!=(r=b)&&r,"mx-input":d+"\x1e_bD({index:"+a(e)+"})","mx-change":d+"\x1e_bC()",class:"ds df","mx-view":"gallery/mx-number/index?max=500&min=0&value="+n(o,x[e])})],c=[t("div",i,p)],h.push(...c);return t(d,0,h)},init(e){this.set({titles:a}),this.assign(e)},assign(e){let{guage:t,disabled:i}=e,l=t.split(" "),d=[];for(let e of l)d.push(parseInt(e,10));return this.set({disabled:i,guage:d}),!0},render(){this.digest()},"_bC<change>"(e){e.stopPropagation()},"_bD<input>"(e){e.stopPropagation();let t=this.get("guage"),{index:i}=e.params;t[i]=e.value,d.default.dispatch(this.root,"change",{value:t.join("px ")+"px"})}})}),define("gallery/mx-menu/index",["magix","../mx-monitor/index"],(e,t)=>{let i,l={class:"dbD di"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),a=e("../mx-monitor/index");d.default.applyStyle("dn",".dbC{z-index:400}.dbD{background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;cursor:default;padding:2px 0;box-shadow:0 1px 3px 1px rgba(0,0,0,.06)}.dbE{height:22px;line-height:22px;cursor:default;border-radius:2px;padding:0 2px;margin:0 2px}.dbF{color:#fff;background-color:#fa742b}.dbG{height:1px;background:#eee;margin:4px 0}.dbH{color:#ccc;cursor:not-allowed}"),t.default=d.default.View.extend({tmpl:(e,t,d,a,s,o,n)=>{let r,c,p,u,h,f,g=[],{width:b,id:x,list:_,disabled:m,textKey:y}=e;c=[];for(let e=0,l=_,s=l.length;e<s;e++){let s=l[e];p=[],s.spliter?(u=i?[i]:[i=t("li",{mxs:"dt:_",class:"dbG"})],p.push(...u)):(f=[t(0,0,s[y])],h="dk dbE ",m[s.id]&&(h+=" dbH"),u=[t("li",{"mx-mouseover":d+"\x1e_bN({d:"+a(m[s.id]||0)+"})","mx-mouseout":d+"\x1e_bN({d:"+a(m[s.id]||0)+"});","mx-click":d+"\x1e_bA({item:'"+n(o,s)+"',d:"+a(m[s.id]||0)+"})",title:a(s[y]),class:h},f)],p.push(...u)),c.push(...p)}return r=[t("ul",l,c)],g.push(t("div",{style:"width:"+a(b)+"px;position:absolute;left:-10000px;top:-10000px",class:"dbC",id:"cnt_"+a(x),"mx-contextmenu":d+"\x1e_A()"},r)),t(d,0,g)},init(e){let t=this;t.assign(e),a.default._aL(),t.on("destroy",()=>{a.default._aM(t),a.default._aN()})},assign(e){let t=this,i=e.width||140,l=e.valueKey||"id",d=e.textKey||"text";return t._bG=e.list,t._bH=i,t._bI=l,t._bJ=d,t._bK=e.disabled||{},t._bL=e.picked,!0},render(){let e=this;e.digest({disabled:e._bK,list:e._bG,width:e._bH,valueKey:e._bI,textKey:e._bJ})},_ba(e){return d.default.inside(e,this.root)},_x(e){let t=this;if(!t._bM){t._bM=1;let i=d.node("cnt_"+t.id),l=i.clientWidth,s=i.clientHeight,o=e.pageX,n=e.pageY;o+l>window.innerWidth&&(o-=l)<0&&(o=0),n+s>window.innerHeight&&(n-=s)<0&&(n=0),i.style.left=o+"px",i.style.top=n+"px",a.default._bb(t)}},_y(){let e=this;if(e._bM){e._bM=!1,d.node("cnt_"+e.id).style.left="-10000px",a.default._aM(e)}},"_bN<mouseover,mouseout>"(e){if(e.params.d)return;let t=e.eventTarget;!d.default.inside(e.relatedTarget,t)&&t.classList["mouseout"==e.type?"remove":"add"]("dbF")},"_bA<click>"(e){if(e.params.d)return;this._y();let t=this._bL;t&&t(e.params.item)},"_A<contextmenu>"(e){e.preventDefault()}},{show(e,t,i){let l="ctx_"+e.id,a=d.node(l),s=a&&d.default.Vframe.byNode(a);s?(s.invoke("assign",[i]),s.invoke("render"),s.invoke("_x",[t])):(document.body.insertAdjacentHTML("beforeend",`<div id="${l}"></div>`),(s=e.owner.mountVframe(d.node(l),"gallery/mx-menu/index",i)).invoke("_x",[t]))}})}),define("gallery/mx-monitor/index",[],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=0,l=[],d=["mousedown","keyup","touchstart","pointerstart"],a=e=>{for(let t=l.length;t--;){let i=l[t];if(i._bO)l.splice(t,1);else{let t=i._bP;"resize"!=e.type&&t._ba(e.target)||t._y()}}},s=e=>{let t=l[e.id];t&&(t._bO=!0),delete l[e.id]};t.default={_bb(e){s(e);let t={_bP:e};l.push(t),l[e.id]=t},_aM:s,_aL(){if(!i){for(let e of d)document.addEventListener(e,a);window.addEventListener("resize",a)}i++},_aN(){if(i>0&&!--i){for(let e of d)document.removeEventListener(e,a);window.removeEventListener("resize",a)}}}}),define("gallery/mx-number/index",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");i.default.applyStyle("do",'.dbI{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}.dbJ,.dbK{width:20px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:2px;cursor:pointer}.dbJ:hover,.dbK:hover{background-color:#f0f0f0}.dbK{top:1px}.dbJ{bottom:1px}.dbL:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:4px solid transparent;border-right:4px solid transparent;content:"";display:block;margin:auto}.dbJ:after{border-top:4px solid #ccc}.dbK:after{border-bottom:4px solid #ccc}.dbJ.dbM,.dbK.dbM{cursor:not-allowed;border-color:transparent}.dbJ.dbM:hover,.dbK.dbM:hover{background-color:transparent}'),t.default=i.default.View.extend({tmpl:(e,t,i,l)=>{let d,a=[],{id:s,disabled:o}=e;return a.push(t("input",{class:"dbI",id:"ipt_"+l(s),"mx-focusin":i+"\x1e_ch()","mx-focusout":i+"\x1e_cj()","mx-change":i+"\x1e_cg()","mx-keydown":i+"\x1e_co()",disabled:o,autocomplete:"off","mx-input":i+"\x1e_cp()"},0,1)),d="dbK dbL di",o&&(d+=" dbM"),a.push(t("span",{"mx-click":i+"\x1e_cc({i:1})","mx-mousedown":i+"\x1e_cn({i:1})","mx-contextmenu":i+"\x1e_A()",class:d})),d="dbJ dbL di",o&&(d+=" dbM"),a.push(t("span",{"mx-click":i+"\x1e_cc()","mx-mousedown":i+"\x1e_cn()","mx-contextmenu":i+"\x1e_A()",class:d})),t(i,0,a)},init(e){this.assign(e)},assign(e){let t=this,l=e.value;void 0===l&&(l=""),""!==l&&(l=+l);let d=t._bQ!==l,a=t._bR;return t._bQ=l,t._bS=+e.step||1,t._bT=e.empty+""=="true",t._bU=e.format+""=="true",t._bR=t.root.hasAttribute("disabled"),t._bV=i.default.has(e,"max")?+e.max:Number.MAX_VALUE,t._bW=i.default.has(e,"min")?+e.min:-Number.MAX_VALUE,t._bX=+e.ratio||10,t._bY=e.fixed||0,d||a!=t._bR},render(){let e=this;e.digest({disabled:e._bR},null,()=>{e._bZ()})},_bZ(){let e=this,t=e._bQ;""!==t&&(t=e._c_(t),e._bU&&(t=t.toFixed(e._bY))),e._ca=i.node("ipt_"+e.id),e._ca.value=t},_c_(e){let t=this;if((e=+e)||0===e){let i=t._bV,l=t._bW;e>i?e=i:e<l&&(e=l),e=+e.toFixed(t._bY)}return isNaN(e)?t._bT?"":0:e},_cb(e,t){let l=this;if(""!==e||!l._bT)return(e=l._c_(e))!==l._bQ&&(t||(l._ca.value=e),i.default.dispatch(l.root,"input",{value:l._bQ=e})),l._bQ;i.default.dispatch(l.root,"input",{value:l._bQ=e})},_cc(e,t){let i=this._bQ;""===i&&(i=0);let l=this._bS,d=i;t&&(l*=this._bX),e?d+=l:d-=l,this._cb(d)},_cd(){let e=this._ca;e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},_cf(){let e=this;e.root.classList.add("du"),i.default.has(e,"_ce")||(e._ce=e._bQ)},"_cg<change>"(e){e.stopPropagation()},"_ch<focusin>"(){this._cf()},"_cj<focusout>"(e){let t=this;t._ci||(t.root.classList.remove("du"),t._bZ(),t._ce!=t._bQ&&i.default.dispatch(t.root,"change",{value:t._bQ}),delete t._ce)},"_cc<click>"(e){let t=this;t._bR||t._ck||(t._cc(e.params.i,e.shiftKey),t._cd())},"_cn<mousedown>"(e){let t=this;if(!t._bR){t._ci=!0,t._cf();let i=e.params.i;t._cl=setTimeout(t.wrapAsync(()=>{t._cm=setInterval(t.wrapAsync(()=>{t._ck=!0,t._cc(i),t._cd()}),50)}),300)}},"_co<keydown>"(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();let t=this;if(!t._bR){let i=e.eventTarget.value;if(""===i)t._bQ="";else{let e=Number(i);(e||0===e)&&e!=t._bQ&&(t._bQ=e)}t._cc(38==e.keyCode,e.shiftKey)}}},"_A<contextmenu>"(e){e.preventDefault()},"_cp<input>"(e){e.stopPropagation();let t=e.eventTarget;this._cb(t.value,!0)},"$doc<mouseup>"(){let e=this;clearTimeout(e._cl),clearInterval(e._cm),delete e._ci,setTimeout(e.wrapAsync(()=>{delete e._ck}),0)}})}),define("gallery/mx-picture/index",["magix","../mx-dialog/index"],(e,t)=>{let i={class:"dbO"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),d=e("../mx-dialog/index");l.default.applyStyle("dp",".dbN{height:100px;padding:4px;border:1px solid #e6e6e6;background:#fff;cursor:pointer;margin:4px 0}.dbO{line-height:92px;text-align:center;color:#999}.dbP{min-height:500px}.dbQ{width:100px;height:100px;margin:4px;overflow:hidden;border:1px solid #e6e6e6;cursor:pointer;padding:4px}.dbQ:hover{border-color:#999}.dbR{width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.dbS{width:100px;margin:0 5px;height:25px}.dbT{margin:30px 0}.dbU{font-size:16px}.dbV{position:absolute;right:3px;top:2px;opacity:.2}.dbV:hover{opacity:.5}"),t.default=l.default.View.extend({tmpl:(e,t,l,d)=>{let a,s,o,n,r=[],{src:c,i18n:p}=e;return a=[],c?(n=[t(0,0,"\ue67f")],o=[t("i",{class:"d_ dbV","mx-click":l+"\x1e_cs()",title:d(p("_Z"))},n)],s=[t("div",{class:"dbR",style:"background-image:url('"+d(c)+"')"},o)],a.push(...s)):(o=[t(0,0,p("_a_"))],s=[t("div",i,o)],a.push(...s)),r.push(t("div",{class:"dbN df","mx-click":l+"\x1e_cr()"},a)),t(l,0,r)},mixins:[d.default],init(e){this.assign(e)},assign(e){return this.set(e),!0},render(){this.digest()},"_cr<click>"(){let e=this;e.mxDialog("gallery/mx-picture/list",{width:932,done(t){e.digest(t),e._cq(t)}})},_cq(e){l.default.dispatch(this.root,"change",e)},"_cs<click>"(e){e.stopPropagation(),this.digest({src:""}),this._cq({src:"",width:0,height:0})}})}),define("gallery/mx-picture/list",["magix","../../designer/service","../../i18n/index"],(e,t)=>{let i={class:"dn dD"},l={class:"do dh dbP"},d={class:"dc dbT dbU"},a={class:"dc dbS dk"};Object.defineProperty(t,"__esModule",{value:!0});const s=e("magix"),o=e("../../designer/service"),n=e("../../i18n/index");t.default=s.default.View.extend({mixins:[o.default],tmpl:(e,t,s,o,n,r,c,p)=>{let u,h,f,g,b,x=[],{i18n:_,error:m,list:y}=e;if(h=[t(0,0,_("_ab"))],u=[t("h5",0,h)],x.push(t("div",i,u)),u=[],m)f=[t(0,0,m.msg)],h=[t("div",d,f)],u.push(...h);else{h=[];for(let e=0,i=y,l=i.length;e<l;e++){let l=i[e];b=[t("div",{class:"dbR",style:"background-image:url('"+o(l.src)+"')"})],g=[t("div",{class:"dbQ","mx-click":s+"\x1e_cu({src:'"+p(l.src)+"'})"},b)],b=[t(0,0,l.title)],g.push(t("div",a,b)),f=[t("div",{class:"dd",title:o(l.title)},g)],h.push(...f)}u.push(...h)}return x.push(t("div",l,u)),t(s,0,x)},init(e){this._bf=e.dialog,this._ct=e.done},render(){this.fetch(["_ak"],(e,t)=>{this.digest({error:e,list:t.get("data",[])})})},"_cu<click>"(e){let t=this,i=new Image,l=t._ct,d=e.params.src;i.onerror=t.wrapAsync(()=>{t.alert(n.default("_aa"))}),i.onload=t.wrapAsync(()=>{let e=i.width,a=i.height;t._bf.close(),l({src:d,width:e,height:a})}),i.src=d}})}),define("gallery/mx-pointer/cursor",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=i.default.guid("cursor_");i.default.applyStyle("dq",".dbW{opacity:0;background:#fff;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10000}"),t.default={_x(e){let t=getComputedStyle(e);this._cv(t.cursor)},_cv(e){let t=i.node(l);t||(document.body.insertAdjacentHTML("beforeend",`<div class="dbW" id="${l}"/>`),t=i.node(l)),t.style.cursor=e,t.style.display="block"},_y(){i.node(l).style.display="none"}}}),define("gallery/mx-pointer/follower",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");i.default.applyStyle("dr",".dbX{background:#fa742b;position:absolute;opacity:.6;left:-1000px;top:-1000px;width:30px;height:30px;text-align:center;line-height:30px;color:#fff;border-radius:2px;z-index:5000;pointer-events:none}");let l=i.default.guid("de_");t.default={_K(e){let t=i.node(l);t||(document.body.insertAdjacentHTML("beforeend",`<div class="dbX dv" id="${l}"/>`),t=i.node(l)),t.innerHTML=e},_x(e){let t=i.node(l).style;t.left=e.pageX+10+"px",t.top=e.pageY+18+"px"},_y(){let e=i.node(l).style;e.left="-1000px",e.top="-1000px"}}}),define("gallery/mx-pointer/select",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");i.default.applyStyle("ds",".dbY{position:absolute;border:1px dashed #fa742b;display:none;pointer-events:none}");let l=i.default.guid("set_");t.default={_cw(){i.node(l)||document.body.insertAdjacentHTML("beforeend",`<div id="${l}" class="dbY"></div>`)},_K(e,t,d,a){let s=i.node(l).style;s.left=e+"px",s.top=t+"px",s.width=d+"px",s.height=a+"px",s.display="block"},_y(){i.node(l).style.display="none"}}}),define("gallery/mx-runner/index",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");let l=window.requestAnimationFrame||(e=>setTimeout(e,16)),d=window.cancelAnimationFrame||clearTimeout,a=Date.now;t.default={_cx:[],_an(e,t){this._cx.push({i:e||15,f:t,n:a()}),this._cy()},_ao(e){let t=this._cx;for(let i,l=0;l<t.length;l++)if(!(i=t[l]).r&&i.f==e){i.r=1;break}},_cy(){let e=this;if(!e._cz){let t=()=>{let s=e._cx;for(let e,t,l=0;l<s.length;l++)(e=s[l]).r?s.splice(l--,1):(t=a())-e.n>=e.i&&(e.n=t,i.default.toTry(e.f));s.length?e._cz=l(t):(d(e._cz),delete e._cz)};e._cz=l(t)}}}}),define("i18n/index",["magix","./zh-cn"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("./zh-cn"),d={"zh-cn":l.default,zh:l.default},a=i.default.has,s=/\{(\d+)\}/g;t.default=((e,...t)=>{let l=(i.default.config("lang")||navigator.language).toLowerCase();a(d,l)||(l="zh-cn");let o=d[l],n=a(o,e)?o[e]:e;return t.length&&(n=n.replace(s,(e,i,l)=>(i|=0,t.length>i?(l=t[i],a(o,l)?o[l]:l):e))),n})}),define("i18n/zh-cn",[],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_b:"\u62a5\u8868\u8bbe\u8ba1\u5668",_H:"\u63d0\u793a",_I:"\u786e\u5b9a",_J:"\u53d6\u6d88",__:"\u5220\u9664\u8f85\u52a9\u7ebf",_a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",_d:"\u64a4\u9500(Ctrl+Z)",_e:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",_ac:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",_ad:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",_ae:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",_af:"\u5c5e\u6027",_ag:"\u6570\u636e\u6e90",_g:"\u6253\u5f00{0}\u9762\u677f",_f:"\u5173\u95ed{0}\u9762\u677f",_ah:"\u5c55\u5f00{0}\u9762\u677f",_ai:"\u6298\u53e0{0}\u9762\u677f",_aj:"\u7c7b\u578b\uff1a",_p:"\u80cc\u666f\u989c\u8272\uff1a",_C:"\u6587\u5b57\u989c\u8272\uff1a",_c:"\u5220\u9664",_aa:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",_Z:"\u6e05\u9664\u56fe\u7247",_a_:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",_ab:"\u56fe\u7247\u5e93",_G:"\u6e05\u9664\u989c\u8272",_z:"\u5b57\u53f7\uff1a",_q:"\u80cc\u666f\u56fe\u7247\uff1a",_r:"\u80cc\u666f\u5e73\u94fa\uff1a",_s:"\u62c9\u4f38\u94fa\u6ee1",_t:"\u539f\u59cb\u5c3a\u5bf8",_u:"\u6a2a\u5411\u5e73\u94fa",_v:"\u5782\u76f4\u5e73\u94fa",_w:"\u53cc\u5411\u5e73\u94fa",_l:"\u9501\u5b9a\u7f16\u8f91\uff1a",_n:"\u6700\u5c0f\u5bbd\u5ea6\uff1a",_o:"\u6700\u5c0f\u9ad8\u5ea6\uff1a",_i:"\u5217\u5206\u914d\uff1a",_j:"\u5916\u8fb9\u8ddd\uff1a",_k:"\u5185\u8fb9\u8ddd\uff1a",_y:"\u9ad8\uff1a",_h:"\u5e03\u5c40",_x:"\u6587\u672c",_m:"\u9875\u9762",_U:"\u70b9\u51fb\u6dfb\u52a0\u5217",_T:"\u70b9\u51fb\u5220\u9664\u5217",_A:"\u900f\u660e\u5ea6\uff1a",_B:"\u5b57\u95f4\u8ddd\uff1a",_F:"\u5185\u5bb9\uff1a",_D:"\u6837\u5f0f\uff1a",_E:"\u6392\u5217\uff1a",_Q:"\u52a0\u7c97",_R:"\u659c\u4f53",_S:"\u4e0b\u5212\u7ebf",_K:"\u6c34\u5e73\u5c45\u5de6",_L:"\u6c34\u5e73\u5c45\u4e2d",_M:"\u6c34\u5e73\u5c45\u53f3",_N:"\u5782\u76f4\u5c45\u4e0a",_O:"\u5782\u76f4\u5c45\u4e2d",_P:"\u5782\u76f4\u5c45\u4e0b",_V:"\u4e0a",_W:"\u53f3",_X:"\u4e0b",_Y:"\u5de6"}}),define("panels/index",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");let l=[{title:"_af",icon:"&#xe7a1;",width:240,height:120,right:10,top:90,show:!0,resizeY:!0,id:"p-props",view:"panels/props/index"},{title:"_ag",icon:"&#xe609;",width:200,height:120,show:!1,right:260,top:90,id:"p-data",view:"panels/data/index"}],d=i.default.toMap(l,"id");t.default={_Z(){for(let e of l)e.show&&this._cA(e.id,!0);i.State.fire("_j")},_cA(e,t){let l=d[e];if(!l.opened){if(l.opened=1,l.eId)i.node(l.eId).style.display="block";else{l.eId=i.default.guid("panel_");let e=i.node(i.default.config("rootId"));e.insertAdjacentHTML("beforeend",`<div id="${l.eId}"></div>`);let t=i.Vframe.byNode(e);l.close=(()=>{this._cB(l.id)}),t.mountVframe(i.node(l.eId),"panels/panel",l)}if(!t){i.State.fire("_j"),i.Vframe.byNode(i.node(l.eId)).invoke("_x")}}},_cB(e){let t=d[e];if(t.opened){t.opened=0;let e=i.node(t.eId);e.style.display="none",i.State.fire("_j"),i.Vframe.byNode(e).invoke("_y")}},_aJ(e){d[e].opened?this._cB(e):this._cA(e)},_aI:()=>l}}),define("panels/panel",["magix","../gallery/mx-pointer/cursor","../gallery/mx-dragdrop/index"],(e,t)=>{let i={class:"dc_ di dh"},l={class:"dv dw dx"},d={class:"de dC db"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),s=e("../gallery/mx-pointer/cursor"),o=e("../gallery/mx-dragdrop/index");a.default.applyStyle("dt",".dbZ{background:hsla(0,0%,100%,.93);position:absolute;box-shadow:0 2px 4px 0 rgba(0,0,0,.3)}.dc_{font-size:12px;height:18px;line-height:18px;background:#fa742b;color:#fff}.dca{padding:0 5px;cursor:move;width:calc(100% - 36px)}.dcb{width:16px;height:14px;margin:0 1px;font-size:11px;cursor:pointer;display:inline-flex;justify-content:center;align-items:center;border-radius:2px}.dcb:hover{background:#e64e30}.dcc{overflow:hidden;transition:height .25s}.dcd{transition:none}.dce{width:calc(100% - 2px);overflow:auto;float:left}.dcf{width:2px;float:right;cursor:ew-resize}.dcg,.dcf{background:#fafafa}.dcg{height:2px;cursor:ns-resize}.dch{scroll-behavior:smooth}.dch::-webkit-scrollbar,.dch::-webkit-scrollbar-corner{height:2px;width:2px;background:#fafafa}");let n=[],r={_bb(e){n.push(e)},_aM(e){for(let t=n.length;t--;)if(n[t]==e){n.splice(t,1);break}this._cC()},_cC(){for(let e=n.length;e--;)n[e]._cD(300+e)},_cE(e){if(n[n.length-1]!=e){for(let t=n.length;t--;)if(n[t]==e){n.splice(t,1);break}n.push(e),this._cC()}}};t.default=a.default.View.extend({tmpl:(e,t,a,s)=>{let o,n,r,c,p,u,h=[],{width:f,left:g,right:b,top:x,zIndex:_,id:m,i18n:y,icon:v,title:w,shrink:k,height:A,resizeX:S,view:j,resizeY:T}=e;return p=[t(0,1,v)],c=[t("i",l,p),t(0,0,y(w))],r=[t("div",{class:"dca dd",title:s(y("_ac")),"mx-mousedown":a+"\x1e_cG()"},c)],p=[t(0,0,"\ue73a")],u="dv dcb",k&&(u+=" dy"),c=[t("i",{"mx-click":a+"\x1e_cJ()",title:s(y(k?"_ah":"_ai",w)),class:u},p)],p=[t(0,0,"\ue635")],c.push(t("i",{class:"dv dcb","mx-click":a+"\x1e_bn()",title:s(y("_f",w))},p)),r.push(t("div",d,c)),n=[t("div",i,r)],(r=[]).push(t("div",{style:"width:"+s(S?"calc(100% - 2px)":"100%"),class:"dce dj dch db","mx-view":s(j)})),S||(c=[t("div",{class:"dcf di db",title:s(y("_ad")),"mx-mousedown":a+"\x1e_cH({w:1})"})],r.push(...c)),n.push(t("div",{class:"dcc",id:"c_"+s(m),style:"height:"+s(k?0:`calc(100vh - ${A}px)`)},r)),u="dcg di",!k&&T||(u+=" dg"),n.push(t("div",{title:s(y("_ae")),"mx-mousedown":a+"\x1e_cH({h:1})",class:u})),o="width:"+s(f)+"px;",o+=0===g||g?"left:"+s(g):"right:"+s(b),o+="px;top:"+s(x)+"px;z-index:"+s(_)+";",h.push(t("div",{class:"dbZ",id:"p_"+s(m),"mx-mousedown":a+"\x1e_cI()",style:o},n)),t(a,0,h)},mixins:[o.default],init(e){r._bb(this),this.on("destroy",()=>{r._aM(this)}),this._cF=e.close,this.set({icon:e.icon,title:e.title,width:e.width,height:e.height,left:e.left,top:e.top,right:e.right,view:e.view,resizeX:e.resizeX,resizeY:e.resizeY})},render(){this.digest({zIndex:300+n.length})},"_cG<mousedown>"(e){let t=a.node("p_"+this.id).style,i=this.get("left"),l=this.get("width"),d=0;void 0===i&&(d=1,i=this.get("right"));let o=this.get("top"),n=d?"right":"left",r=0,c=e.eventTarget;this._w(e,a=>{r||(r=1,s.default._x(c));let p=(d?e.pageX-a.pageX:a.pageX-e.pageX)+i;p<0?p=0:p+l>window.innerWidth&&(p=window.innerWidth-l);let u=a.pageY-e.pageY+o;u<0?u=0:u+18>window.innerHeight&&(u=window.innerHeight-18),t[n]=p+"px",t.top=u+"px",this.set({[n]:p,top:u})},()=>{s.default._y()})},"_cH<mousedown>"(e){let{w:t}=e.params,i=this.get("width"),l=this.get("height"),d=this.get("right"),o=a.node("c_"+this.id);o.classList.add("dcd");let n=o.style,r=a.node("p_"+this.id).style,c=0,p=e.eventTarget;this._w(e,a=>{if(c||(c=1,s.default._x(p)),t){let t=a.pageX-e.pageX;t+i<100&&(t=100-i);let s=t+i;r.width=s+"px",(d||0===l)&&(r.right=d-t+"px",this.set({right:d-t})),this.set({width:s})}else{let t=e.pageY-a.pageY+l;n.height=`calc(100vh - ${t}px)`,this.digest({height:t})}},()=>{s.default._y(),o.classList.remove("dcd")})},_cD(e){a.node("p_"+this.id).style.zIndex=e},"_cI<mousedown>"(){r._cE(this)},_x(){r._cE(this)},_y(){},"_cJ<click>"(){this.digest({shrink:!this.get("shrink")})},"_bn<click>"(){let e=this._cF;e&&a.default.toTry(e)}})}),define("panels/data/index",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");t.default=i.default.View.extend({tmpl:(e,t,i)=>{let l=[];return l.push(t(0,0,"data source panel")),t(i,0,l)},render(){this.digest()}})}),define("panels/props/index",["magix","../../designer/props","../../designer/history","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-layout/column","gallery/mx-layout/guage","gallery/mx-font/style","gallery/mx-font/align","./page"],(e,t)=>{let i,l,d;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-layout/column"),e("gallery/mx-layout/guage"),e("gallery/mx-font/style"),e("gallery/mx-font/align"),e("./page");let a={class:"dci"},s={class:"dcj"},o={class:"dck"},n={class:"dcp"};Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),c=e("../../designer/props"),p=e("../../designer/history");r.default.applyStyle("du",'.dci{padding:4px;min-width:200px}.dcj{line-height:28px;display:flex;align-items:center}.dck{width:80px;text-align:right}.dcl{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.dcm{width:140px}.dcn{height:90px}.dco{align-items:flex-start}.dcp{display:flex;align-items:center;cursor:pointer}.dcq{visibility:hidden;position:absolute}.dcr{width:32px;height:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;border-radius:22px;background:#ccc}.dcr:before{content:"";width:12px;height:12px;position:absolute;left:0;margin:2px;border-radius:50%;background:#fff;transition:all .25s}.dcq:checked+.dcr{background:#fa742b}.dcq:checked+.dcr:before{left:100%;margin-left:-14px}.dcq:disabled+.dcr{background:#e6e6e6;cursor:not-allowed}'),t.default=r.default.View.extend({tmpl:(e,t,r,c,p,u,h,f)=>{let g,b,x,_,m,y,v,w,k,A,S,j=[],{elements:T,i18n:M,props:z}=e;if(1==T.length){let e=T[0];x=[],m=[t(0,0,M("_aj"))],_=[t("span",o,m)],m=[t(0,0,M(e.ctrl.title))],_.push(t("span",0,m)),x.push(t("li",s,_));for(let d=0,a=e.ctrl.props,s=a.length;d<s;d++){let s=a[d];if(_=[],s.type==z._ab)m=i?[i]:[i=t("li",{mxs:"dz:_",class:"dcl"})],_.push(...m);else{m=[];let i=e.props[s.key];s.ifShow&&!s.ifShow(e.props)||(w=[],k=[t(0,0,M(s.tip))],w.push(t("span",o,k)),s.type==z._a_?(A="gallery/mx-number/index?value="+h(u,i),null!=(g=s.max)&&(A+="&max="+p(g)),null!=(g=s.step)&&(A+="&step="+p(g)),null!=(g=s.fixed)&&(A+="&fixed="+p(g)),null!=(g=s.min)&&(A+="&min="+p(g)),k=[t("div",{mxv:"elements",class:"dcm ds df",disabled:null!=(g=e.props.locked)&&g,"mx-input":r+"\x1e_cL({key:'"+f(s.key)+"',use:'value',element:'"+h(u,e)+"'})","mx-view":A})],w.push(...k)):s.type==z._aa?(k=[t("div",{mxv:"elements",class:"dcm","mx-input":r+"\x1e_cL({key:'"+f(s.key)+"',use:'color',element:'"+h(u,e)+"'})","mx-view":"gallery/mx-color/index?clear="+p(s.clear)+"&color="+h(u,i)+"&align=right&disabled="+p(e.props.locked)+"&alpha="+p(s.alpha)})],w.push(...k)):s.type==z._ac?(S=[t("input",{class:"dcq",type:"checkbox",checked:e.props[s.key],"mx-change":r+"\x1e_cL({key:'"+f(s.key)+"',bool:1,element:'"+h(u,e)+"',refresh:'"+h(u,s.refresh)+"'})"},0,1)],l?S.push(l):S.push(l=t("i",{mxs:"dz:a",class:"dcr"})),k=[t("label",n,S)],w.push(...k)):s.type==z._ad?(k=[t("div",{mxv:"elements",class:"dcm","mx-change":r+"\x1e_cL({key:'"+f(s.key)+"',element:'"+h(u,e)+"'})","mx-view":"gallery/mx-layout/column?columns="+h(u,i)+"&disabled="+h(u,e.props.locked)})],w.push(...k)):s.type==z._ae?(k=[t("div",{mxv:"elements",class:"dcm","mx-change":r+"\x1e_cL({key:'"+f(s.key)+"',use:'value',element:'"+h(u,e)+"'})","mx-view":"gallery/mx-layout/guage?guage="+h(u,i)+"&disabled="+h(u,e.props.locked)})],w.push(...k)):s.type==z._ah?(k=[t("textarea",{class:"dt dcm dcn",disabled:e.props.locked,"mx-input":r+"\x1e_cL({key:'"+f(s.key)+"',ta:1,element:'"+h(u,e)+"'})",value:c(i)})],w.push(...k)):s.type==z._af?(k=[t("div",{mxv:"elements",class:"dcm","mx-input":r+"\x1e_cL({key:'"+f(s.key)+"',use:'value',element:'"+h(u,e)+"'})","mx-view":"gallery/mx-font/style?disabled="+h(u,e.props.locked)+"&value="+h(u,i)})],w.push(...k)):s.type==z._ag&&(k=[t("div",{mxv:"elements",class:"dcm","mx-input":r+"\x1e_cL({key:'"+f(s.key)+"',use:'value',element:'"+h(u,e)+"'})","mx-view":"gallery/mx-font/align?disabled="+h(u,e.props.locked)+"&value="+h(u,i)})],w.push(...k)),v="dcj",s.dockTop&&(v+=" dco"),y=[t("li",{class:v},w)],m.push(...y)),_.push(...m)}x.push(..._)}b=[t("ul",a,x)],j.push(...b)}else b=d?[d]:[d=t("div",{mxs:"dz:b","mx-view":"panels/props/page"})],j.push(...b);return t(r,0,j)},init(){let e=this._cK(this.render.bind(this),100);r.State.on("_h",e),r.State.on("_k",e),r.State.on("__",e)},render(){this.digest({scale:r.State.get("_c"),props:c.default,elements:r.State.get("_P")})},"_cL<input,change>"(e){let{key:t,use:i,element:l,refresh:d,ta:a,bool:s}=e.params;if(i||s||a){let d=l.props,o=e.eventTarget,n=a?o.value:s?o.checked:e[i];d[t]=n}d&&(this.render(),r.State.fire("_i"));let o=r.node(l.id),n=r.Vframe.byNode(o);n&&n.invoke("_K",[l]),p.default._s("__"+t,500)}})}),define("panels/props/page",["magix","../../designer/history","../../designer/props","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-picture/index","gallery/mx-dropdown/index"],(e,t)=>{let i;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-picture/index"),e("gallery/mx-dropdown/index");let l={class:"dci"},d={class:"dcj"},a={class:"dck"};Object.defineProperty(t,"__esModule",{value:!0});const s=e("magix"),o=e("../../designer/history"),n=e("../../designer/props");t.default=s.default.View.extend({tmpl:(e,t,s,o,n,r,c,p)=>{let u,h,f,g,b,x,_,m,y=[],{i18n:v,ctrl:w,props:k,page:A}=e;h=[],g=[t(0,0,v("_aj"))],f=[t("span",a,g)],g=[t(0,0,v(w.title))],f.push(t("span",0,g)),h.push(t("li",d,f));for(let e=0,l=w.props,d=l.length;e<d;e++){let d=l[e];f=[],d.type==k._ab?(g=i?[i]:[i=t("li",{mxs:"dA:_",class:"dcl"})],f.push(...g)):d.ifShow&&!d.ifShow(A)||(x=[],_=[t(0,0,v(d.tip))],x.push(t("span",a,_)),d.type==k._a_?(m="gallery/mx-number/index?value="+c(r,A[d.key]),null!=(u=d.max)&&(m+="&max="+n(u)),null!=(u=d.step)&&(m+="&step="+n(u)),null!=(u=d.fixed)&&(m+="&fixed="+n(u)),null!=(u=d.min)&&(m+="&min="+n(u)),_=[t("div",{mxv:"page,ctrl",class:"dcm ds df","mx-input":s+"\x1e_cL({key:'"+p(d.key)+"',use:'value'})","mx-view":m})],x.push(..._)):d.type==k._aa?(m="gallery/mx-color/index?clear="+n(d.clear)+"&color="+c(r,A[d.key])+"&align=right",null!=(u=d.alpha)&&(m+="&alpha="+n(u)),_=[t("div",{mxv:"page,ctrl",class:"dcm","mx-input":s+"\x1e_cL({key:'"+p(d.key)+"',use:'color'})","mx-view":m})],x.push(..._)):d.type==k._ai?(_=[t("div",{class:"dcm","mx-change":s+"\x1e_cL({key:'"+p(d.key)+"',use:'src',refresh:'"+c(r,d.refresh)+"',write:'"+c(r,d.write)+"'})","mx-view":"gallery/mx-picture/index?src="+n(A[d.key])})],x.push(..._)):d.type==k._aj&&(_=[t("div",{mxv:"ctrl",class:"dcm","mx-change":s+"\x1e_cL({key:'"+p(d.key)+"',use:'value'})","mx-view":"gallery/mx-dropdown/index?selected="+n(A[d.key])+"&list="+c(r,d.items)+"&textKey=text&valueKey=value"})],x.push(..._)),b="dcj",d.dockTop&&(b+=" dco"),g=[t("li",{class:b},x)],f.push(...g)),h.push(...f)}return y.push(t("ul",l,h)),t(s,0,y)},init(){let e=this.render.bind(this);s.State.on("__",e)},render(){this.digest({props:n.default,ctrl:s.State.get("_Y"),page:s.State.get("_N")})},"_cL<input,change>"(e){let{key:t,use:i,refresh:l,write:d}=e.params,a=s.State.get("_N");a[t]=e[i],d&&d(a,e),o.default._s("_a",500),s.State.fire("_a"),l&&this.render()}})}),define("elements/designer",["magix","../gallery/mx-dragdrop/index"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("../gallery/mx-dragdrop/index");i.default.applyStyle("df",".daq{pointer-events:none}.dar{display:flex}.das{position:absolute;left:0;top:0;right:0;bottom:0;background:transparent}.dat,.dau{border:1px solid #fa742b}.dau{border-color:#999}.dav{border:1px dotted #ddd;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.daw{border-style:dashed}");let d={},a=()=>{for(let e in d){let t=i.Vframe.byId(e);t&&(t.invoke("_aK"),t.invoke("render"))}};i.State.on("__",a),i.State.on("_h",a),t.default=i.default.View.extend({tmpl:(e,t,i,l,d,a,s)=>{let o,n,r=[],{element:c,view:p,id:u,selected:h}=e;o="";let f=c.props;o+=" ";let g=c.ctrl;return n="dav",f.locked&&(n+=" daw"),"layout"==g.role?n+=" dar":n+=" daq",r.push(t("div",{mxv:"element","mx-view":l(p)+"?element="+s(a,c)+"&props="+s(a,f),id:"entity_"+l(u),class:n})),n="das","layout"==g.role&&(n+=" daq"),h&&(f.locked?n+=" dau":n+=" dat"),r.push(t("div",{class:n})),t(i,0,r)},mixins:[l.default],ctor(e){this.assign(e),d[this.id]=1,this.on("destroy",()=>{delete d[this.id]})},_aK(){let e=i.State.get("_X"),t=i.State.get("_P").length,l=this.get().element.id;this.set({selected:i.has(e,l),count:t})},assign(e){return this.set(e),this._aK(),!0},render(){this.digest()},_K(e){this.digest({element:e})}})}),define("elements/index",["magix","./layout/designer","./text/designer","./page/designer"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("./layout/designer"),d=e("./text/designer"),a=e("./page/designer");let s=[l.default,d.default],o=i.toMap(s,"type"),n=[l.default,{spliter:1},d.default,{icon:"&#xe629;",title:"\u56fe\u8868",subs:[d.default,d.default,d.default,d.default,d.default,d.default,d.default,d.default]}];t.default={_J:()=>n,_V:()=>a.default,_W(e){let t={},i=e=>{for(let l of e){let e=o[l.type];if(l.ctrl=e,t[l.id]=l,"layout"==l.role)for(let e of l.props.columns)i(e.elements)}};return i(e),{elements:e,map:t}}}}),define("elements/layout/designer",["../designer","../../designer/props"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("../designer"),l=e("../../designer/props");t.default=i.default.extend({ctor(){this.set({view:"elements/layout/index"})}},{type:"layout",role:"layout",title:"_h",icon:"&#xe764;",getProps:()=>({columns:[{width:1,elements:[]}],margin:"5px 5px 5px 5px",padding:"5px 5px 5px 5px",locked:!1}),props:[{tip:"_i",key:"columns",dockTop:!0,type:l.default._ad},{tip:"_j",key:"margin",dockTop:!0,type:l.default._ae},{tip:"_k",key:"padding",dockTop:!0,type:l.default._ae},{type:l.default._ab},{tip:"_l",key:"locked",type:l.default._ac,refresh:!0,free:!0}]})}),define("elements/layout/index",["magix","../../designer/stage-elements","../../gallery/mx-dragdrop/index"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("../../designer/stage-elements"),d=e("../../gallery/mx-dragdrop/index");i.default.applyStyle("dg",".dax{display:flex;width:100%;min-height:40px}.day{flex-shrink:1;overflow:hidden;border:1px dashed #ccc}"),t.default=i.default.View.extend({tmpl:(e,t,i,l,d,a,s)=>{let o,n,r,c,p=[],{props:u,element:h}=e;o=[];for(let e=0,d=u.columns,p=d.length;e<p;e++){let p=d[e];r=[];for(let e=0,d=p.elements,o=d.length;e<o;e++){let o=d[e];c=[t("div",{mxv:"props",class:"df",id:l(o.id),eid:l(o.id),"mx-view":"elements/"+l(o.ctrl.role)+"/designer?element="+s(a,o),"mx-mousedown":i+"\x1e_aB({element:'"+s(a,o)+"'})",role:l(o.ctrl.role)})],r.push(...c)}n=[t("div",{style:"flex-basis:"+l(100*p.width)+"%;",class:"day",role:"column",index:l(e),pid:l(h.id)},r)],o.push(...n)}return p.push(t("div",{style:"margin:"+l(u.margin)+";padding:"+l(u.padding)+";",class:"dax"},o)),t(i,0,p)},mixins:[d.default],init(e){this.assign(e)},assign(e){return this.set(e),!0},render(){this.digest()},"_aB<mousedown>"(e){"layout"!=e.from&&(e.from="layout",l.default._ay(e,this))}})}),define("elements/page/designer",["../../designer/props","../../i18n/index"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("../../designer/props"),l=e("../../i18n/index");t.default={title:"_m",getProps:()=>({width:900,height:500,background:"#ffffff",backgroundImage:"",backgroundRepeat:"full",backgroundWidth:0,backgroundHeight:0}),props:[{tip:"_n",key:"width",type:i.default._a_,min:0},{tip:"_o",key:"height",type:i.default._a_,min:0},{type:i.default._ab},{tip:"_p",key:"background",type:i.default._aa},{tip:"_q",dockTop:!0,key:"backgroundImage",type:i.default._ai,refresh:!0,write(e,t){e.backgroundWidth=t.width,e.backgroundHeight=t.height}},{tip:"_r",key:"backgroundRepeat",type:i.default._aj,items:[{text:l.default("_s"),value:"full"},{text:l.default("_t"),value:"no-repeat"},{text:l.default("_u"),value:"repeat-x"},{text:l.default("_v"),value:"repeat-y"},{text:l.default("_w"),value:"repeat"}],ifShow:e=>e.backgroundImage}]}}),define("elements/text/designer",["../designer","../../designer/props"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("../designer"),l=e("../../designer/props");t.default=i.default.extend({ctor(){this.set({view:"elements/text/index"})}},{type:"text",role:"text",title:"_x",icon:"&#xe6bc;",getProps:()=>({background:"",height:50,alpha:1,text:"",ls:0,forecolor:"#000000",fontsize:14,locked:!1,style:{bold:!1,underline:!1,italic:!1},margin:"0 0 0 0",padding:"0 0 0 0",align:{h:"flex-start",v:"flex-start"}}),props:[{tip:"_y",key:"height",type:l.default._a_,min:0},{tip:"_z",key:"fontsize",type:l.default._a_,min:0},{tip:"_A",key:"alpha",type:l.default._a_,step:.1,fixed:1,min:0,max:1},{tip:"_B",key:"ls",type:l.default._a_,min:0},{tip:"_p",key:"background",clear:!0,alpha:!0,type:l.default._aa},{tip:"_C",key:"forecolor",type:l.default._aa},{tip:"_D",key:"style",type:l.default._af},{tip:"_E",key:"align",type:l.default._ag},{tip:"_F",key:"text",type:l.default._ah,dockTop:!0},{type:l.default._ab},{tip:"_j",key:"margin",dockTop:!0,type:l.default._ae},{tip:"_k",key:"padding",dockTop:!0,type:l.default._ae},{type:l.default._ab},{tip:"_l",key:"locked",type:l.default._ac,refresh:!0,free:!0}]})}),define("elements/text/index",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");t.default=i.default.View.extend({tmpl:(e,t,i,l)=>{let d,a,s,o=[],{props:n}=e;return s="",n.text?s+=" "+n.text+" ":s+=" \u8bf7\u8f93\u5165\u6587\u5b57 ",a=[t(0,0,s)],d="display:flex;color:"+l(n.forecolor)+";",n.background&&(d+="background:"+l(n.background)+";"),d+="font-size:"+l(n.fontsize)+"px;height:"+l(n.height)+"px;letter-spacing:"+l(n.ls)+"px;opacity:"+l(n.alpha)+";margin:"+l(n.margin)+";padding:"+l(n.padding)+";",n.style.bold&&(d+="font-weight:bold;"),n.style.italic&&(d+="font-style:italic;"),n.style.underline&&(d+="text-decoration:underline;"),d+=";align-items:"+l(n.align.v)+";justify-content:"+l(n.align.h)+";overflow:hidden;",o.push(t("div",{style:d},a)),t(i,0,o)},init(e){this.assign(e)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("designer/axis",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","./history"],(e,t)=>{let i,l={class:"dS"},d={class:"dQ"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),s=e("../gallery/mx-dragdrop/index"),o=e("../gallery/mx-pointer/cursor"),n=e("./history");a.default.applyStyle("da",".dE{height:20px;border-bottom:1px solid #ccc;overflow:hidden;width:100%;background:#fff;z-index:200;position:relative}.dF{top:0;width:1px}.dF,.dG{position:absolute;background:#fa742b;z-index:200;display:none;pointer-events:none}.dG{left:0;height:1px}.dH{float:left;overflow:hidden;z-index:200;position:relative}.dI,.dH{width:20px;border-right:1px solid #ccc;background:#fff}.dI{position:absolute;left:0;top:0;height:20px;border-bottom:1px solid #ccc;z-index:201}.dJ{left:5px;top:22px}.dJ,.dK{cursor:default;position:absolute;font-size:10px}.dK{top:2px;left:24px}.dL,.dM{position:relative;z-index:100}.dL{top:20px}.dM{left:20px}.dN{width:4px;border-left:1px solid #fa742b}.dN,.dO{position:absolute;pointer-events:none}.dO{height:1px;background:#fa742b}.dP{position:absolute;left:-15px;top:4px;font-size:10px;color:#666;cursor:pointer;pointer-events:all}.dQ{top:2px;cursor:default}.dQ,.dR{position:absolute;left:4px;font-size:10px;color:#666}.dR{top:-15px;cursor:pointer;pointer-events:all}.dS{position:absolute;left:4px;top:2px;font-size:10px;color:#666;cursor:default}.dT{width:25px;top:-1px;height:3px;left:30px;cursor:ns-resize}.dU,.dT{position:absolute;overflow:hidden;background:#fa742b;pointer-events:all}.dU{width:3px;left:-2px;height:25px;top:20px;cursor:ew-resize}");let r={1:{space:100,step:10}};t.default=a.default.View.extend({tmpl:(e,t,a,s,o,n,r,c)=>{let p,u,h,f,g,b,x,_,m,y,v=[],{sTop:w,id:k,yHelpers:A,yStart:S,scale:j,vWidth:T,i18n:M,sLeft:z,xHelpers:L,xStart:C,vHeight:E,width:O,step:P,space:I,hbar:B,barColor:N,bar:V,xEnd:Y,height:R,yEnd:D}=e;p=[];for(let e=0,i=A,d=i.length;e<d;e++){let d=i[e];y=Math.abs(S)+d.mm*j+20,f=[t(0,0,"\ue600")],h=[t("i",{class:"dv dR",title:s(M("__")),"mx-click":a+"\x1e_v({type:'y',id:'"+c(d.id)+"'})"},f)],f=[t(0,0,d.mm)],h.push(t("span",l,f),t("span",{class:"dT","mx-mousedown":a+"\x1e_z({type:'y',id:'"+c(d.id)+"',c:"+s(y)+"})",title:s(M("_a"))})),u=[t("div",{class:"dO",style:"width:"+s(T)+"px;top:"+s(y)+"px;"},h)],p.push(...u)}v.push(t("div",{class:"dM",style:"top:-"+s(w)+"px",id:s(k)+"_y_help","mx-contextmenu":a+"\x1e_A()"},p)),p=[];for(let e=0,i=L,l=i.length;e<l;e++){let l=i[e];y=Math.abs(C)+l.mm*j,f=[t(0,0,"\ue600")],h=[t("i",{class:"dv dP",title:s(M("__")),"mx-click":a+"\x1e_v({type:'x',id:'"+c(l.id)+"'})"},f)],f=[t(0,0,l.mm)],h.push(t("span",d,f),t("span",{class:"dU","mx-mousedown":a+"\x1e_z({type:'x',id:'"+c(l.id)+"',c:"+s(y)+"})",title:s(M("_a"))})),u=[t("div",{class:"dN",style:"height:"+s(E)+"px;left:"+s(y)+"px;"},h)],p.push(...u)}v.push(t("div",{class:"dL",style:"left:-"+s(z)+"px",id:s(k)+"_x_help","mx-contextmenu":a+"\x1e_A()"},p)),f=[];for(let e=0;e<C;e+=P)g=[],e&&(b=[],(m=e/j)%I==0?(x=[t("rect",{width:"1",height:s(B),x:s(C-e),y:s(20-B-1),style:"fill:"+s(N)+";"},0,1)],_=[t(0,0,-m)],x.push(t("text",{x:s(C-e+2),y:"14",style:"font-size:10px;fill:#999;"},_)),b.push(...x)):(x=[t("rect",{width:"1",height:s(V),x:s(C-e),y:s(20-V-1),style:"fill:"+s(N)+";"},0,1)],b.push(...x)),g.push(...b)),f.push(...g);for(let e=0;e<Y;e+=P)g=[],(m=e/j)%I==0?(b=[t("rect",{width:"1",height:s(B),x:s(C+e),y:s(20-B-1),style:"fill:"+s(N)+";"},0,1)],x=[t(0,0,m)],b.push(t("text",{x:s(C+e+2),y:"14",style:"font-size:10px;fill:#999;"},x)),g.push(...b)):(b=[t("rect",{width:"1",height:s(V),x:s(C+e),y:s(20-V-1),style:"fill:"+s(N)+";"},0,1)],g.push(...b)),f.push(...g);h=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+s(O)+" 19",style:"cursor:default;"},f)],u=[t("div",{style:"width:"+s(O)+"px;height:100%"},h)],p=[t("div",{class:"dE",id:s(k)+"_x"},u)],h=[t(0,0,"-")],u=[t("span",{class:"dJ",id:s(k)+"_x_tip"},h)],p.push(t("div",{class:"dF",id:s(k)+"_x_line",style:"height:"+s(E+20)+"px"},u)),v.push(t("div",{"mx-mousemove":a+"\x1e_o()","mx-mouseout":a+"\x1e_p()","mx-click":a+"\x1e_t()"},p)),f=[];for(let e=0;e<S;e+=P)g=[],e&&(b=[],(m=e/j)%I==0?(x=[t("rect",{width:s(B),height:"1",x:s(20-B),y:s(S-e),style:"fill:"+s(N)+";"},0,1)],_=[t(0,0,-m)],x.push(t("text",{x:"14",y:s(S-e+2),style:"font-size:10px;fill:#999;",transform:"rotate(-90,13,"+s(S-e)+")"},_)),b.push(...x)):(x=[t("rect",{width:s(V),height:"1",x:s(20-V),y:s(S-e),style:"fill:"+s(N)+";"},0,1)],b.push(...x)),g.push(...b)),f.push(...g);for(let e=0;e<D;e+=P)g=[],(m=e/j)%I==0?(b=[t("rect",{width:s(B),height:"1",x:s(20-B),y:s(S+e),style:"fill:"+s(N)+";"},0,1)],x=[t(0,0,m)],b.push(t("text",{x:"14",y:s(S+e),style:"font-size:10px;fill:#999;;",transform:"rotate(-90,13,"+s(S+e-2)+")"},x)),g.push(...b)):(b=[t("rect",{width:s(V),height:"1",x:s(20-V),y:s(S+e),style:"fill:"+s(N)+";"},0,1)],g.push(...b)),f.push(...g);return h=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 "+s(R),style:"cursor:default"},f)],u=[t("div",{style:"height:"+s(R)+"px;"},h)],p=[t("div",{class:"dH",style:"height:"+s(E)+"px;",id:s(k)+"_y"},u)],h=[t(0,0,"-")],u=[t("span",{class:"dK",id:s(k)+"_y_tip"},h)],p.push(t("div",{class:"dG",id:s(k)+"_y_line",style:"width:"+s(T+20)+"px"},u)),v.push(t("div",{"mx-mousemove":a+"\x1e_q()","mx-mouseout":a+"\x1e_r()","mx-click":a+"\x1e_u()"},p)),i?v.push(i):v.push(i=t("div",{mxs:"d_:_",class:"dI"})),t(a,0,v)},mixins:[s.default],init(e){let t=a.node(e.scroll);t.addEventListener("scroll",()=>{this.__()},{passive:!0}),this._a=t,this.set({bar:4,hbar:12,barColor:"#aaa"});let i=this.render.bind(this);a.State.on("__",i),a.State.on("_a",i),a.State.on("_b",i)},_l(){if(this._b){let e=this._a,t=a.State.get("_c"),i=Math.max(e.scrollWidth,window.innerWidth)+500,l=Math.max(e.scrollHeight,window.innerHeight)+300,d=0,s=0,o=20,n=0,c=0,p=10,u=10,h=a.node("stage_canvas"),f=a.node("stage_outer"),g=h.getBoundingClientRect(),b=f.getBoundingClientRect();s=i-(d=Math.round(g.left-b.left)+o),c=l-(n=Math.round(g.top-b.top)),p=e.offsetHeight,u=e.offsetWidth;let x=r[t];this.digest({sTop:e.scrollTop,sLeft:e.scrollLeft,width:i,scale:t,space:x.space,step:x.step,height:l,xStart:d,xEnd:s,yStart:n,vHeight:p,vWidth:u,yEnd:c},null,()=>{this._d=a.node(this.id+"_x"),this._e=a.node(this.id+"_y"),this._f=a.node(this.id+"_x_line"),this._g=a.node(this.id+"_y_line"),this._h=a.node(this.id+"_x_tip"),this._i=a.node(this.id+"_y_tip"),this._j=a.node(this.id+"_x_help"),this._k=a.node(this.id+"_y_help")})}},__(){let e=this._d,t=this._e,i=this._k,l=this._j,d=this._a,a=d.scrollTop,s=d.scrollLeft;e&&(e.scrollLeft=s),t&&(t.scrollTop=a),l&&(l.style.left=-s+"px"),i&&(i.style.top=-a+"px"),this.set({sLeft:s,sTop:a})},render(){this.set({xHelpers:a.State.get("_m"),yHelpers:a.State.get("_n")});let e=()=>{a.node("stage_canvas")?(this._b=1,this._l()):setTimeout(e,30)};setTimeout(e,30)},"_o<mousemove>"(e){let t=this._d,i=e.pageX,l=this.get("xStart"),d=this._f.style;d.display="block",d.left=i+"px";let a=i-l+t.scrollLeft,s=this.get("scale");this._h.innerHTML=(a/s).toFixed(0)},"_p<mouseout>"(e){a.default.inside(e.relatedTarget,e.eventTarget)||(this._f.style.display="none")},"_q<mousemove>"(e){let t=this.root.getBoundingClientRect(),i=e.pageY-t.top,l=this.get("yStart"),d=this._e,a=this._g.style;a.display="block",a.top=i+"px";let s=i-l-20+d.scrollTop,o=this.get("scale");this._i.innerHTML=(s/o).toFixed(0)},"_r<mouseout>"(e){a.default.inside(e.relatedTarget,e.eventTarget)||(this._g.style.display="none")},"_t<click>"(e){let t=(e.pageX-this.get("xStart")+this._d.scrollLeft)/this.get("scale")|0,i=this.get("xHelpers");i.push({mm:t,id:a.default.guid("x_")}),this.digest({xHelpers:i}),n.default._s()},"_u<click>"(e){let t=this.root.getBoundingClientRect(),i=(e.pageY-t.top-this.get("yStart")-20+this._e.scrollTop)/this.get("scale")|0,l=this.get("yHelpers");l.push({mm:i,id:a.default.guid("x_")}),this.digest({yHelpers:l}),n.default._s()},"_v<click>"(e){let{type:t,id:i}=e.params,l=t+"Helpers",d=this.get(l);for(let e=d.length;e--;){if(d[e].id==i){d.splice(e,1);break}}this.digest({[l]:d}),n.default._s()},"_z<mousedown>"(e){if(e.target!=e.eventTarget)return;let t,{type:i,id:l,c:d}=e.params,a=i+"Helpers",s=this.get(a);for(let e of s)if(e.id==l){t=e;break}if(t){let l=this.get(i+"Start"),r=0;this._w(e,n=>{let c;r||(r=1,o.default._x(e.eventTarget)),c="x"==i?n.pageX-e.pageX+d:n.pageY-e.pageY+d-20,t.mm=(c-l)/this.get("scale")|0,this.digest({[a]:s})},()=>{r&&(o.default._y(),n.default._s())})}},"_A<contextmenu>"(e){e.preventDefault()},"$win<resize>"(){this._l()}})}),define("designer/const",[],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_B:50,_c:1,_C:5,_D:150,_E:50,_F:20,_G:12,_H:5,_I:10}}),define("designer/header",["magix","../elements/index","../gallery/mx-dragdrop/index","../gallery/mx-pointer/follower"],(e,t)=>{let i,l,d,a,s={class:"dC dd"},o={class:"dC dd dA di"},n={class:"dV dX df"},r={class:"dv dZ"},c={class:"dY"},p={class:"da_"};Object.defineProperty(t,"__esModule",{value:!0});const u=e("magix"),h=e("../elements/index"),f=e("../gallery/mx-dragdrop/index"),g=e("../gallery/mx-pointer/follower");u.default.applyStyle("db",".dV,.dW{width:60px;height:40px;display:grid;grid-template-rows:20px 20px;justify-items:center;align-items:center;cursor:pointer;margin:0 2px}.dX{grid-template-columns:50px 10px}.dW{float:left;border-radius:2px}.dW:hover{background:#bd361b}.dY{display:none;position:absolute;cursor:default;top:100%;left:0;width:264px;padding:4px}.dY,.dV:hover{background:#e64e30}.dV:hover .dY{display:block}.dZ{grid-column:1/2;grid-row:1/2;align-self:flex-end}.da_{font-size:12px;font-weight:400;line-height:12px;grid-column:1/2;grid-row:2/3}.daa{font-size:10px;margin-left:-10px;grid-row:1/3;grid-column:2/3}.dab{height:30px;width:1px;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,100%,.27)),color-stop(.3,#fff),color-stop(.7,#fff),to(hsla(0,0%,100%,.27)));margin:2px 12px;float:left}"),t.default=u.default.View.extend({tmpl:(e,t,u,h,f,g,b)=>{let x,_,m,y,v,w,k,A,S,j=[],{i18n:T,elements:M}=e;i?x=[i]:(_=[t(0,0,"\ue64b")],x=[i=t("i",{mxs:"da:_",class:"dv da"},_)]),x.push(t(0,0,T("_b")+"\u2122")),j.push(t("div",s,x)),x=[];for(let e=0,i=M,a=i.length;e<a;e++){let a=i[e];if(_=[],a.spliter)m=l?[l]:[l=t("div",{mxs:"da:a",class:"dab"})],_.push(...m);else{if(m=[],a.subs){w=[t(0,1,a.icon)],v=[t("i",r,w)],w=[t(0,0,T(a.title))],v.push(t("b",{class:"da_",title:h(T(a.title))},w)),d?v.push(d):(w=[t(0,0,"\ue73a")],v.push(d=t("i",{mxs:"da:b",class:"daa dv"},w))),w=[];for(let e=0,i=a.subs,l=i.length;e<l;e++){let l=i[e];S=[t(0,1,l.icon)],A=[t("i",r,S)],S=[t(0,0,T(l.title))],A.push(t("b",p,S)),k=[t("div",{class:"dW","mx-mousedown":u+"\x1e_M({ctrl:'"+b(g,l)+"'})",title:h(T(l.title))},A)],w.push(...k)}v.push(t("div",c,w)),y=[t("div",n,v)],m.push(...y)}else w=[t(0,1,a.icon)],v=[t("i",r,w)],w=[t(0,0,T(a.title))],v.push(t("b",p,w)),y=[t("div",{class:"dV df","mx-mousedown":u+"\x1e_M({ctrl:'"+b(g,a)+"'})",title:h(T(a.title))},v)],m.push(...y);_.push(...m)}x.push(..._)}return j.push(t("div",o,x)),a?j.push(a):(m=[t(0,0,"\ue6b0")],_=[t("i",{class:"dv"},m)],m=[t(0,0,"\u4fdd\u5b58")],_.push(t("b",p,m)),x=[t("div",{class:"dV"},_)],j.push(a=t("div",{mxs:"da:c",class:"dC de dB di"},x))),t(u,0,j)},mixins:[f.default],render(){this.digest({elements:h.default._J()})},"_M<mousedown>"(e){let{ctrl:t}=e.params,i=0;g.default._K(t.icon),u.State.set({_L:t}),this._w(e,e=>{i&&(g.default._x(e),u.State.fire("_c",{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY})),i=1},e=>{g.default._y(),i?e&&u.State.fire("_d"):u.State.fire("_e"),u.State.set({_L:null})})}})}),define("designer/history",["magix","./const"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("./const");let d=[],a=[],s=null,o=-1,n="",r=null,c=()=>JSON.stringify({page:i.State.get("_N"),scale:i.State.get("_c"),layouts:i.State.get("_O"),select:i.State.get("_P"),xLines:i.State.get("_m"),yLines:i.State.get("_n")}),p=e=>{let t=JSON.parse(e),l=i.State.get("_c"),d=t.scale||l;i.State.fire("_f",{json:t}),i.State.fire("__",{scale:l!==d})};t.default={_Q(){r||(r=c())},_R:()=>({canRedo:a.length,canUndo:d.length}),_S(){d.length=0,a.length=0},_T(){if(d.length>0){let e=d.pop();a.push(e);let t=d[d.length-1]||r;p(t)}},_U(){let e=a.pop();e&&(d.push(e),p(e))},_s(e="_save",t=0){let p=c();e!=n&&(s&&(d.push(s),s=null),n=e),a.length=0;let u=e=>{d.push(e),d.length>l.default._B&&(r=d.shift()),i.State.fire("_g")};t?(s=p,clearTimeout(o),o=setTimeout(()=>{u(s),s=null},t)):u(p)}}}),define("designer/index",["magix","../elements/index","../gallery/mx-dialog/index","./const","./history","../panels/index","./header","./toolbar","./axis","./stage"],(e,t)=>{let i,l;e("./header"),e("./toolbar"),e("./axis"),e("./stage"),Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),a=e("../elements/index"),s=e("../gallery/mx-dialog/index"),o=e("./const"),n=e("./history"),r=e("../panels/index");let c=a.default._V();d.default.applyStyle("dc",".dac{background:#fa742b;height:40px;line-height:40px;font-size:16px;padding:0 10px;color:#fff;z-index:202}.dac,.dad{position:relative}.dad{padding:0 26px;background:#fafafa;color:#333;height:26px;z-index:201;border-bottom:1px solid #eee}.dae{width:calc(100% - 20px);overflow:scroll;height:calc(100% - 85px);background-color:#edeef3;transition:all .3s;margin-left:20px}.daf{scroll-behavior:smooth}.dag{box-shadow:inset 1px 1px 6px 2px #dadada}");t.default=d.default.View.extend({tmpl:(e,t,d,a,s)=>{let o=[],{id:n}=e;return i?o.push(i):o.push(i=t("div",{mxs:"db:_","mx-view":"designer/header",class:"dac"})),l?o.push(l):o.push(l=t("div",{mxs:"db:a","mx-view":"designer/toolbar",class:"dad di"})),o.push(t("div",{"mx-view":"designer/axis?scroll=s_"+s(n),class:"di df"}),t("div",{"mx-view":"designer/stage",id:"s_"+a(n),class:"dae dj dag"})),t(d,0,o)},mixins:[s.default],init(){d.State.on("_f",e=>{(e=>{let t=d.State.get("_N"),i=d.State.get("_O"),l=d.State.get("_P"),s=d.State.get("_m"),o=d.State.get("_n"),{elements:n,map:r}=a.default._W(e.layouts);i.length=0,i.push(...n),s.length=0,e.xLines&&s.push(...e.xLines),o.length=0,e.yLines&&o.push(...e.yLines);let c={};if(l.length=0,e.select)for(let t of e.select){let e=r[t.id];e&&(c[e.id]=1,l.push(e))}d.default.mix(t,e.page),d.State.set({_c:e.scale||1,_X:c})})(e.json)}),d.State.set({_Y:c,_N:c.getProps(),_c:o.default._c,_O:[],_P:[],_X:{},_m:[],_n:[]}),n.default._Q()},render(){this.digest(null,null,()=>{r.default._Z()})}})}),define("designer/keys",[],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DELETE:8,TAB:9,Z:90,Y:89}}),define("designer/props",[],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_a_:2,_aa:4,_ab:8,_ac:16,_ad:32,_ae:64,_af:128,_ag:256,_ah:512,_ai:1024,_aj:2048}}),define("designer/service",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");let l=i.default.Service.extend((e,t)=>{let i=e.get("method")||"GET";fetch(e.get("url"),{method:i,credentials:"include"}).then(e=>{if(e.ok)return e.json();throw new Error("Network response error")}).then(i=>{e.set("data",i.data),t()}).catch(e=>{t({msg:e.message})})});l.add([{name:"_ak",url:i.default.config("getBackgroundImageUrl")}]),t.default={ctor(){let e=this;e.on("rendercall",()=>{delete e._al})},request(e){e=e||i.default.guid("r");let t=new l;return this.capture(e,t,!0),t},fetch(e,t){let i=JSON.stringify(e);this.request(i).all(e,t)},save(e,t){let i=this,l=JSON.stringify(e);i.lock(l,()=>{i.request(l+"_request").save(e,t)})},lock(e,t){this._al||(this._al={});let i=this._al;i[e]||(i[e]=t,t())},unlock(e){let t=this._al;t&&delete t[e]}}}),define("designer/stage-dragdrop",["magix","../gallery/mx-dragdrop/index","../gallery/mx-runner/index","./const","./history","./stage-elements"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("../gallery/mx-dragdrop/index"),d=e("../gallery/mx-runner/index"),a=e("./const"),s=e("./history"),o=e("./stage-elements");t.default={_av(e,t){let n=null,r=null,c=null,p=null,u=null,h=this,f=0,g=0,b=null,x=null,_=()=>{r=null,p=null,n=null,u=null},m=()=>{let t=e.getBoundingClientRect(),i=e.scrollWidth>e.clientWidth+a.default._F,l=e.scrollHeight>e.clientHeight+a.default._F;b.pageY>t.top&&b.pageY<t.top+t.height&&b.pageX>t.left&&b.pageX<t.left+t.width&&(i||l)?t.top+t.height-a.default._E<b.pageY?e.scrollTop+e.clientHeight+a.default._F<e.scrollHeight?++f>a.default._I&&(c.display="none",e.scrollTop+=a.default._H):f=0:t.top+a.default._E>b.pageY?e.scrollTop<a.default._F?f=0:++f>a.default._I&&(e.scrollTop-=a.default._H,c.display="none"):t.left+a.default._D>b.pageX?e.scrollLeft<a.default._F?f=0:++f>a.default._I&&(e.scrollLeft-=a.default._H,c.display="none"):t.left+t.width-a.default._D<b.pageX&&e.scrollLeft+e.clientWidth+a.default._F<e.scrollWidth?++f>a.default._I&&(c.display="none",e.scrollLeft+=a.default._H):f=0:f=0};i.State.on("_c",s=>{if(b=s,g||(g=1,e.addEventListener("scroll",_),e.classList.remove("daf"),x=o.default._am(),d.default._an(a.default._G,m)),f)return;let y=l.default._aq(s.clientX,s.clientY);if(y!=r){r=y,c||(c=i.node(t+"_bar").style),p||(p=i.node("stage_outer").getBoundingClientRect());let e=h._ar(x,y,s.moved);n=e||null}if(n){let e=h._as(n,s);e?(u=e,c.left=e.rect.left-p.left+"px",c.top=e.rect.top-p.top+"px",c.width=e.rect.width+"px",c.display="block"):(u=null,c.display="none")}else c&&(u=null,c.display="none")}),i.State.on("_d",()=>{f=0,g&&(g=0,e.removeEventListener("scroll",_),d.default._ao(m)),u&&(c.display="none",n.moved?o.default._ap(u,n.moved):o.default._M(u),i.State.fire("_b"),s.default._s()),_(),x=null}),i.State.on("_e",()=>{let{id:e}=o.default._at(i.State.get("_L"));i.State.fire("_b"),s.default._s(),o.default._au(e)})},_as(e,{pageY:t}){let l=!1,{entity:d,subIndex:s,ctrl:o,moved:n}=e;if(n&&"stage"!=e.role){let e=t=>{if(t.id==d.id)l=!0;else if("layout"==t.role)for(let i of t.props.columns){for(let t of i.elements)if(e(t),l)break;if(l)break}};e(n)}if(l)return;let r=(e.layout||e.node).getBoundingClientRect(),c={left:r.left,top:r.top,width:r.width,height:r.height};if("stage"==e.role){let t=e.elements.length;return t&&(c.top+=c.height),{ctrl:e.ctrl,elements:e.elements,index:t,rect:c}}if("layout"==e.role){let i=e.index,l=i;c.top+c.height/2<t?(c.top+=c.height,i++,l++):l--;let d=e.ownerList[l];return d&&n&&d.id==n.id?null:{ctrl:e.ctrl,elements:e.ownerList,index:i,rect:c}}if("column"==e.role){let l=e.index,p=l,u=c.top+a.default._C>=t,h=c.top+c.height-a.default._C<=t;if(h?(l++,p++,c.top+=c.height):p--,u||h){let t=e.ownerList[p];return t&&n&&t.id==n.id?null:{ctrl:e.ctrl,elements:e.ownerList,index:l,rect:c}}u=(c={left:(r=e.node.getBoundingClientRect()).left,top:r.top,width:r.width,height:r.height}).top+a.default._C>=t;let f,g=d.props.columns[s].elements,b=g.length;if(b){if(u?(l=0,f=g[0]):(l=b,f=g[b-1]),n&&n.id==f.id)return;c={left:(r=i.node(f.id).getBoundingClientRect()).left,top:r.top+(u?0:r.height),width:r.width,height:r.height}}else l=0;return{elements:g,ctrl:o,index:l,rect:c}}{let i=e.index,l=i;c.top+c.height/2<t?(c.top+=c.height,i++,l++):l--;let d=e.ownerList[l];return d&&n&&d.id==n.id?null:{ctrl:e.ctrl,elements:e.ownerList,index:i,rect:c}}},_ar(e,t,l){let d=i.State.get("_L"),a=i.node("stage_canvas");if((d||l)&&i.default.inside(t,a)){let s=i.State.get("_O");if(t==a){let e=s[s.length-1],t=a;if(l&&e.id==l.id)return;return e&&(t=i.node(e.id)),{moved:l,elements:s,ctrl:d,role:"stage",node:t}}{let s="";do{if(s=t.getAttribute("role"))break;t=t.parentNode}while(t!=a);if(s){let n=t.getAttribute("column"==s?"pid":"eid"),{entity:r,pInfo:c}=o.default._aw(e,n);if(l&&l.id==r.id)return;r.props.locked&&(s=(t=i.node(r.id)).getAttribute("role"));let p=-1,u=null;if("column"==s)for(p=0|t.getAttribute("index"),u=t;u!=a&&"layout"!=u.getAttribute("role");)u=u.parentNode;return{ctrl:d,role:s,moved:l,subIndex:p,layout:u,entity:r,index:c.index,ownerList:c.elements,node:t}}}}return null}}}),define("designer/stage-elements",["magix","../gallery/mx-pointer/follower","./history","./stage-select"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("../gallery/mx-pointer/follower"),d=e("./history"),a=e("./stage-select");let s=e=>{let t=i.node("stage_outer").parentNode,l=i.node(e),d=t.getBoundingClientRect(),a={x:d.left,y:d.top,width:d.width-20,height:d.height-20},s={x:(d=l.getBoundingClientRect()).left,y:d.top,width:d.width,height:d.height};if(!((e,t)=>{let i=e.width/2,l=e.height/2,d=t.width/2,a=t.height/2,s=e.x+i,o=e.y+l,n=t.x+d,r=t.y+a;return Math.abs(n-s)<=i+d&&Math.abs(r-o)<=l+a})(a,s)){let e=t.clientHeight/3;t.classList.add("daf"),t.scrollTop=s.y+t.scrollTop-a.y-e}};t.default={_M(e){let t=e.ctrl,l=t.getProps(),d={id:i.default.guid("e_"),type:t.type,role:t.role,ctrl:t,props:l};e.elements.splice(e.index,0,d),a.default._ax(d)},_at(e){let t=e.getProps(),l={id:i.default.guid("e_"),type:e.type,role:e.role,ctrl:e,props:t};return i.State.get("_O").unshift(l),a.default._ax(l),l},_ap(e,t){let l=null,d=e=>{let i=0,a=!1;for(let s of e){if(s.id==t.id){e.splice(i,1,null),l=e,a=!0;break}if("layout"==s.role)for(let e of s.props.columns)if(d(e.elements),a)break;i++}},a=i.State.get("_O");d(a),e.elements.splice(e.index,0,t);for(let e=l.length;e--;)if(null===l[e]){l.splice(e,1);break}},_am(){let e=i.State.get("_O"),t={},l={},d=(e,i,a)=>{let s=0;for(let o of e){if(t[o.id]={pId:i,index:s,elements:e,type:a},l[o.id]=o,"layout"==o.role)for(let e of o.props.columns)d(e.elements,o.id,o.role);s++}};return d(e,0,"stage"),{idMap:t,elements:l}},_aw(e,t){let{idMap:l,elements:d}=e,a=t,s=t;do{d[a].props.locked&&(s=a),a=l[a].pId}while(i.has(l,a));let o=l[s];return{entity:d[s],pInfo:o}},_ay(e,t){let{element:s}=e.params,o=this._am(),{entity:n}=this._aw(o,s.id),r=i.State.get("_P");if(void 0!==e.button&&0!=e.button){let e=!1;for(let t of r)if(t.id===s.id){e=!0;break}return void(e||a.default._ax(n)&&d.default._s())}let c=!1;for(let e of r)n.id==e.id&&(c=!0);if(c||(a.default._ax(n)&&d.default._s(),r.length=0,r.push(n)),n.props.locked)return;let p=n.ctrl;l.default._K(p.icon),t._w(e,e=>{l.default._x(e),i.State.fire("_c",{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,moved:n})},e=>{if(l.default._y(),e){let t=i.node("stage_outer").parentNode,l=t.scrollTop;e.preventDefault(),i.State.fire("_d"),l!=t.scrollTop&&(t.scrollTop=l)}})},_az(){let e=i.State.get("_P"),t=i.State.get("_O"),l=!1;if(e.length){let d=i.toMap(e,"id"),s=e=>{for(let t,i=e.length;i--;)if(!(t=e[i]).props.locked)if(d[t.id])l=!0,e.splice(i,1);else if("layout"==t.role)for(let e of t.props.columns)s(e.elements)};s(t),l&&a.default._ax()}return l},_aA(e){let t=i.State.get("_P"),l=i.State.get("_O");if(l.length){let i=t.length,o=t[0],n=null;if(0===i||i>1)n=l[e.shiftKey?l.length-1:0];else{let t=null,i=null,d=null,a=null,s=!1,r=o.id,c=e=>{for(let l of e)if(l.id==r?(s=!0,t=l):t&&!i?i=l:s?a=l:d=l,"layout"==l.role&&!l.props.locked)for(let e of l.props.columns)c(e.elements)};c(l),e.shiftKey?d?n=d:"layout"==(n=l[l.length-1]).role&&a&&(n=a):n=i||l[0]}o&&n.id==o.id||(a.default._ax(n),d.default._s(),s(n.id))}},_au:s}}),define("designer/stage-select",["magix"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");t.default={_ax(e){let t=i.State.get("_P"),l=t.length;if(l||e){let d=l>1?null:t[0];t.length=0;let a=!1;if(e?(t.push(e),a=e!=d):l&&(a=!0),a)return i.State.set({_X:i.toMap(t,"id")}),i.State.fire("_h"),!0}}}}),define("designer/stage",["magix","../gallery/mx-dragdrop/index","./history","./keys","./stage-elements","./stage-select","./stage-dragdrop"],(e,t)=>{let i={class:"dai"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),d=e("../gallery/mx-dragdrop/index"),a=e("./history"),s=e("./keys"),o=e("./stage-elements"),n=e("./stage-select"),r=e("./stage-dragdrop");l.default.applyStyle("dd",".dah{outline:0;display:flex;position:relative}.dai{padding:50px 240px 50px 120px}.daj{background:#fff;box-shadow:0 3px 6px 0 rgba(0,0,0,.3)}@-webkit-keyframes dc{0%{background-position:10px 0}to{background-position:0 0}}@keyframes dc{0%{background-position:10px 0}to{background-position:0 0}}.dak{height:2px;background:linear-gradient(45deg,#fa742b 25%,#fff 0,#fff 50%,#fa742b 0,#fa742b 75%,#fff 0,#fff);background-size:10px 10px;position:absolute;display:none;pointer-events:none;margin-top:-1px;transition:all .08333333s;animation:dc .4s linear infinite reverse}"),t.default=l.default.View.extend({tmpl:(e,t,l,d,a,s,o)=>{let n,r,c,p,u,h=[],{page:f,scale:g,layouts:b,id:x}=e;p=[];for(let e=0,i=b,a=i.length;e<a;e++){let a=i[e];u=[t("div",{mxv:"layouts",class:"df",id:d(a.id),"mx-view":"elements/"+d(a.ctrl.role)+"/designer?element="+o(s,a),"mx-mousedown":l+"\x1e_aB({element:'"+o(s,a)+"'})",role:"layout",eid:d(a.id)})],p.push(...u)}return c="min-width:"+d(f.width*g)+"px;min-height:"+d(f.height*g)+"px;background:"+d(f.background)+";",f.backgroundImage&&(c+="background-image:url("+d(f.backgroundImage)+");background-repeat:"+d("full"==f.backgroundRepeat?"no-repeat":f.backgroundRepeat)+";background-size:","full"==f.backgroundRepeat?c+="100% 100%":c+=d(f.backgroundWidth*g)+"px "+d(f.backgroundHeight*g)+"px;"),r=[t("div",{class:"daj",id:"stage_canvas",style:c},p)],n=[t("div",i,r),t("div",{class:"dak",id:d(x)+"_bar"})],h.push(t("div",{class:"dah",id:"stage_outer","mx-contextmenu":l+"\x1e_A()","mx-mousedown":l+"\x1e_aC()",tabindex:"0","mx-focusin":l+"\x1e_aE()","mx-focusout":l+"\x1e_aF()","mx-keydown":l+"\x1e_aD()"},n)),t(l,0,h)},mixins:[d.default],init(){let e=e=>{let t=l.State.get("_O");e?this.digest({layouts:t}):this.set({layouts:t})},t=this.render.bind(this);l.State.on("__",t),l.State.on("_a",t),l.State.on("_b",e),r.default._av(this.root,this.id),e()},render(){let e=l.State.get("_N");this.digest({scale:l.State.get("_c"),page:e})},"_aB<mousedown>"(e){"layout"!=e.from&&o.default._ay(e,this)},"_aC<mousedown>"(e){let t=e.target;l.default.inside(l.node("stage_canvas"),t)&&(e.shiftKey||e.metaKey||e.ctrlKey||n.default._ax()&&a.default._s())},"_aD<keydown>"(e){e.metaKey||e.ctrlKey?e.keyCode==s.default.Z?(e.preventDefault(),e.shiftKey?a.default._U():a.default._T()):e.keyCode==s.default.Y&&(e.preventDefault(),a.default._U()):e.keyCode==s.default.TAB?(e.preventDefault(),o.default._aA(e)):e.keyCode==s.default.DELETE&&(e.preventDefault(),o.default._az()&&(l.State.fire("_b"),a.default._s()))},"_A<contextmenu>"(e){e.preventDefault()},"_aE<focusin>"(){this.root.classList.remove("dag")},"_aF<focusout>"(){this.root.classList.add("dag")}})}),define("designer/toolbar-del",["magix","./stage-elements","./history"],(e,t)=>{let i;Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),d=e("./stage-elements"),a=e("./history");t.default=l.default.View.extend({tmpl:(e,t,l,d)=>{let a,s,o=[],{elements:n,i18n:r}=e,c=n.length;return i?o.push(i):o.push(i=t("i",{mxs:"dd:_",class:"dao"})),s=[t(0,0,"\ue600")],a="dv dam",(c<1||n[0].props.locked)&&(a+=" dap"),o.push(t("i",{title:d(r("_c"))+"(Delete)","mx-click":l+"\x1e_aG()",class:a},s)),t(l,0,o)},init(){let e=this.render.bind(this);l.State.on("__",e),l.State.on("_h",e),l.State.on("_i",e)},render(){this.digest({elements:l.State.get("_P")})},"_aG<click>"(e){e.eventTarget.classList.contains("dap")||d.default._az()&&(l.State.fire("_b"),a.default._s())}})}),define("designer/toolbar-do",["magix","./history"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("./history");t.default=i.default.View.extend({tmpl:(e,t,i,l)=>{let d,a,s=[],{status:o,i18n:n}=e;return a=[t(0,0,"\ue682")],d="dv dam",o.canUndo||(d+=" dap"),s.push(t("i",{title:l(n("_d")),"mx-click":i+"\x1e_aH({s:'-',b:"+l(o.canUndo)+"})",class:d},a)),a=[t(0,0,"\ue682")],d="dv dam dz",o.canRedo||(d+=" dap"),s.push(t("i",{title:l(n("_e")),"mx-click":i+"\x1e_aH({s:'+',b:"+l(o.canRedo)+"})",class:d},a)),t(i,0,s)},init(){let e=this.render.bind(this);i.State.on("__",e),i.State.on("_g",e)},render(){this.digest({status:l.default._R()})},"_aH<click>"(e){if(e.eventTarget.classList.contains("dap"))return;let{s:t,b:i}=e.params;i&&("-"==t?l.default._T():l.default._U())}})}),define("designer/toolbar-panels",["magix","../panels/index"],(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),l=e("../panels/index");t.default=i.default.View.extend({tmpl:(e,t,i,l,d,a,s,o)=>{let n,r,c,p=[],{panels:u,i18n:h}=e;for(let e=0,d=u,a=d.length;e<a;e++){let a=d[e];c=[t(0,1,a.icon)],r="dv dam",a.opened&&(r+=" dan"),n=[t("i",{"mx-click":i+"\x1e_aJ({id:'"+o(a.id)+"'})",title:l(h(a.opened?"_f":"_g",a.title)),class:r},c)],p.push(...n)}return t(i,0,p)},init(){i.State.on("_j",()=>{this.render()})},render(){this.digest({panels:l.default._aI()})},"_aJ<click>"(e){let{id:t}=e.params;l.default._aJ(t)}})}),define("designer/toolbar",["magix","./toolbar-do","./toolbar-del","./toolbar-panels"],(e,t)=>{let i,l;e("./toolbar-do"),e("./toolbar-del"),e("./toolbar-panels"),Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix");d.default.applyStyle("de",".dal{height:22px}.dam{cursor:pointer;height:22px;width:22px;margin:0 2px;display:inline-flex;align-items:center;justify-content:center;border-radius:2px}.dam:hover{background:#e6e6e6;color:#333}.dan,.dan:hover{background:#c4c4c4}.dao{height:16px;width:1px;background:#eee;margin:3px 12px;float:left}.dap{color:#aaa;cursor:not-allowed}.dap:hover{color:#aaa;background:transparent}"),t.default=d.default.View.extend({tmpl:(e,t,d)=>{let a,s=[];return i?s.push(i):(a=[t("div",{class:"dal","mx-view":"designer/toolbar-do"}),t("div",{class:"dal","mx-view":"designer/toolbar-del"})],s.push(i=t("div",{mxs:"dg:_",class:"dd dC db"},a))),l?s.push(l):(a=[t("div",{class:"dal","mx-view":"designer/toolbar-panels"})],s.push(l=t("div",{mxs:"dg:a",class:"de db dC"},a))),t(d,0,s)},render(){this.digest()}})});